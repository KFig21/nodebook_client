{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/loader/Loader.js","assets/noAvatar.png","components/share/Share.js","components/post/comment/Comment.js","components/post/Post.js","components/timeline/Timeline.js","components/nav/Nav.js","pages/home/Home.js","components/image/Image.js","components/follower/Follower.js","components/centerFeed/CenterFeed.js","assets/cover.png","assets/avatarCropper.png","assets/coverCropper.png","pages/profile/Profile.js","assets/plusSign.png","components/followFeed/FollowFeed.js","pages/follows/Follows.js","components/postPage/PostPage.js","pages/post/Post.js","assets/wordmark.png","pages/login/Login.js","pages/login/Signup.js","apiCalls.js","components/updateUser/UpdateUser.js","pages/update/Update.js","components/likesFeed/liker/Liker.js","components/likesFeed/LikesFeed.js","pages/likes/Likes.js","components/exploreFeed/exploreUser/ExploreUser.js","components/exploreFeed/ExploreFeed.js","pages/explore/Explore.js","components/notificationsFeed/notification/Notification.js","components/notificationsFeed/NotificationsFeed.js","pages/notifications/Notifications.js","components/sidebar/Logo.js","components/sidebar/KF.js","components/sidebar/Sidebar.js","components/mobileNavFooter/MobileNavFooter.js","pages/share/Share.js","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","localStorage","clear","followings","filter","following","INITIAL_STATE","JSON","parse","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Loader","className","color","Share","currentUser","useContext","body","useRef","useState","file","setFile","disableButton","setDisableButton","isInvalid","setUser","setError","fetchUser","a","axios","get","username","res","data","submitHandler","e","preventDefault","newPost","userId","_id","current","postWithImg","FormData","append","post","window","location","reload","src","avatar","noAvi","alt","placeholder","onChange","target","ref","maxLength","URL","createObjectURL","Cancel","onClick","onSubmit","encType","htmlFor","PermMedia","style","display","id","name","accept","files","disabled","Comment","comment","fetchNotifications","showDeletePost","likes","length","like","setLike","isLiked","setIsLiked","showOptions","setShowOptions","showDeleteComment","setShowDeleteComment","showEdit","setShowEdit","editBody","includes","likeHandler","put","err","delete","sender","recipient","commentId","postId","seen","handleDeleteComment","alert","handleEditComment","updatedComment","edited","editedtimestamp","Date","now","handleCancelAllOptions","to","format","createdAt","isAdmin","MoreVert","defaultValue","Favorite","FavoriteBorder","Post","page","sidebarOpen","likerIds","comments","setComments","commentRef","navigate","useNavigate","setShowDeletePost","disableComment","setDisableComment","commentButtonIsInvalid","fetchComments","sort","p1","p2","submitComment","newComment","handleEditPost","updatedPost","handleDeletePost","replace","pointerEvents","img","map","Timeline","setSidebarOpen","setCurrentPage","loading","setLoading","posts","setPosts","skip","setSkip","fetchPosts","handleScroll","offsetHeight","scrollTop","scrollHeight","onScroll","Nav","profileUser","currentPage","notificationsCount","useParams","followed","setFollowed","postUser","setPostUser","checkFollowing","check","fetchPost","postData","handleClick","console","log","TimelineNav","FollowsNav","followers","ProfileNav","Remove","Add","UpdateNav","NotificationsNav","PostNav","LikesNav","Home","Image","image","Follower","friend","handleFollowingStatus","loadNewUser","followStatus","setFollowStatus","checkFollowStatus","setTimeout","followingStatus","followerStatus","textDecoration","firstname","lastname","CenterFeed","feed","images","friends","getInitialPosts","getInitialFollows","getInitialImages","setToInfo","AccountBox","Chat","Group","title","Edit","about","birthday","date","arr","split","formatBday","website","href","rel","Profile","setProfileUser","setFeed","setImages","setFriends","avatarModal","setAvatarModal","coverModal","setCoverModal","sending","setSending","newUser","userFetched","followsList","getScrollPosts","getScrollFollows","userInQuestion","updateFollow","handleAvatarUpdate","handleCoverUpdate","avatarCropper","coverCropper","cover","FollowFeed","follow","getFollows","friendsList","Followers","PostPage","setPost","Login","loginErr","setLoginErr","usermail","password","wordmark","required","CircularProgress","size","Signup","setUserAuth","email","confirmPassword","setCustomValidity","logoutCall","UpdateUser","errorMsg","setErrorMsg","getUser","updatedUser","response","msg","Update","updateType","Liker","liker","LikesFeed","likers","setLikers","getLikers","likerList","ExploreFeed","exploreList","Notification","notification","status","getNotifications","content","setContent","contentId","apiRoute","handleMarkAsRead","getReadStatus","handleDelete","deleteNotification","CommentLikeMsg","PostLikeMsg","CommentMsg","MessageOutlined","FollowMsg","PersonAddOutlined","Check","AddAlertOutlined","DeleteForeverOutlined","NotificationsFeed","waitingOnLoad","setWaitingOnLoad","seenNotifications","setSeenNotifications","newNotifications","setNewNotifications","seenFilter","noti","newFilter","handleSeenStatus","updateNotis","updateNotifications","Promise","all","notificationToUpdate","refreshNotifications","then","handleDeleteBatch","deleteBatch","deleteNotis","deleteNotifcations","notificationToDelete","NewNotificationsFeed","SeenNotificationsFeed","Notifications","Logo","version","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","Sidebar","handleOptionClick","HomeRounded","HomeOutlined","Person","PersonOutlineRounded","NotificationsOutlined","GroupOutlined","Public","Language","Create","CreateOutlined","ExitToApp","GitHub","MobileNavFooter","App","userAuth","userData","setUserData","setNotificationsCount","count","notifications","userCheck","basename","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eaeb8e69.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case \"LOGOUT\":\r\n      localStorage.clear();\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"FOLLOW\":\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          followings: [...state.user.followings, action.payload],\r\n        },\r\n      };\r\n    case \"UNFOLLOW\":\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          followings: state.user.followings.filter(\r\n            (following) => following !== action.payload\r\n          ),\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useEffect, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactLoading from \"react-loading\";\r\n\r\nexport default function Loader({ type }) {\r\n  return (\r\n    <div className={\"loader-\" + type}>\r\n      <ReactLoading type={\"bars\"} color={\"#4bb44b\"} />\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useContext, useRef, useState, useEffect } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { PermMedia, Cancel } from \"@material-ui/icons\";\r\nimport noAvi from \"../../assets/noAvatar.png\";\r\nimport \"./Share.scss\";\r\n\r\nexport default function Share() {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const body = useRef();\r\n  const [file, setFile] = useState(null);\r\n  const [disableButton, setDisableButton] = useState(\"\");\r\n  const isInvalid = disableButton === \"\";\r\n  const [user, setUser] = useState({});\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users?username=${currentUser.username}`\r\n        // `http://localhost:3000/api/users?username=${currentUser.username}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n\r\n    fetchUser();\r\n  }, [currentUser]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      userId: user._id,\r\n      body: body.current.value,\r\n    };\r\n    if (file) {\r\n      const postWithImg = new FormData();\r\n\r\n      postWithImg.append(\"file\", file);\r\n      postWithImg.append(\"userId\", user._id);\r\n      postWithImg.append(\"body\", body.current.value);\r\n\r\n      try {\r\n        await axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/posts/image\",\r\n          // `http://localhost:3000/api/posts/image`,\r\n          postWithImg\r\n        );\r\n        window.location.reload();\r\n      } catch (err) {\r\n        setError(true);\r\n      }\r\n    } else {\r\n      // no file, send\r\n      try {\r\n        await axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/posts\",\r\n          // \"http://localhost:3000/api/posts\",\r\n          newPost\r\n        );\r\n        window.location.reload();\r\n      } catch (err) {\r\n        setError(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"share\">\r\n      <div className=\"share-wrapper\">\r\n        <div className=\"share-top\">\r\n          <img\r\n            className=\"share-avatar\"\r\n            src={\r\n              user.avatar\r\n                ? \"https://nodebook-images.s3.amazonaws.com/\" + user.avatar\r\n                : noAvi\r\n            }\r\n            alt=\"\"\r\n          />\r\n          <textarea\r\n            placeholder={\"What's up \" + user.username + \"?\"}\r\n            className=\"share-input\"\r\n            onChange={(e) => setDisableButton(e.target.value)}\r\n            ref={body}\r\n            maxLength={500}\r\n          />\r\n        </div>\r\n        <hr className=\"share-hr\" />\r\n        {file && (\r\n          <div className=\"share-img-container\">\r\n            <img className=\"share-img\" src={URL.createObjectURL(file)} alt=\"\" />\r\n            <Cancel\r\n              className=\"share-cancel-img\"\r\n              onClick={() => setFile(null)}\r\n            />\r\n          </div>\r\n        )}\r\n        <form\r\n          className=\"share-bottom\"\r\n          onSubmit={submitHandler}\r\n          encType=\"multipart/form-data\"\r\n        >\r\n          <div className=\"share-options\">\r\n            <label htmlFor=\"file\" className=\"share-option\">\r\n              <PermMedia className=\"share-icon\" />\r\n              <span className=\"share-option-text\">Add an image</span>\r\n              <input\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                id=\"file\"\r\n                name=\"file\"\r\n                accept=\".png,.jpeg,.jpg\"\r\n                onChange={(e) => setFile(e.target.files[0])}\r\n              />\r\n            </label>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className={\r\n              isInvalid ? \"share-button invalid-share-button\" : \"share-button\"\r\n            }\r\n            disabled={isInvalid}\r\n          >\r\n            Share\r\n          </button>\r\n        </form>\r\n        {error && (\r\n          <div className=\"error-div\">\r\n            <span className=\"error-message\">\r\n              <strong>Error:</strong> File too large or incorrect type\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { Favorite, FavoriteBorder, MoreVert } from \"@material-ui/icons\";\r\nimport noAvi from \"../../../assets/noAvatar.png\";\r\nimport \"./Comment.scss\";\r\n\r\nexport default function Comment({\r\n  comment,\r\n  fetchNotifications,\r\n  showDeletePost,\r\n}) {\r\n  const [like, setLike] = useState(comment.likes.length);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const [user, setUser] = useState({});\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const [showDeleteComment, setShowDeleteComment] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const editBody = useRef();\r\n  const [disableButton, setDisableButton] = useState(\"\");\r\n  const isInvalid = disableButton === \"\" || disableButton === comment.body;\r\n\r\n  // set user like status on comment\r\n  useEffect(() => {\r\n    setIsLiked(comment.likes.includes(currentUser._id));\r\n  }, [currentUser._id, comment.likes]);\r\n\r\n  // fetch user on load\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users?userId=${comment.userId}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [comment.userId]);\r\n\r\n  // toggle likes\r\n  const likeHandler = (type) => {\r\n    try {\r\n      axios.put(\r\n        \"https://radiant-oasis-77477.herokuapp.com/api/comments/\" +\r\n          comment._id +\r\n          \"/like\",\r\n        { userId: currentUser._id }\r\n      );\r\n    } catch (err) {}\r\n    setLike(isLiked ? like - 1 : like + 1);\r\n    setIsLiked(!isLiked);\r\n\r\n    if (!isLiked) {\r\n      // send like notification\r\n      try {\r\n        axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n          // \"http://localhost:3000/api/notifications/\",\r\n          {\r\n            sender: currentUser._id,\r\n            recipient: user._id,\r\n            commentId: comment._id,\r\n            postId: comment.postId,\r\n            type: \"commentLike\",\r\n            seen: false,\r\n          }\r\n        );\r\n      } catch (err) {}\r\n    } else if (isLiked) {\r\n      // delete like notification\r\n      try {\r\n        axios.delete(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n          // \"http://localhost:3000/api/notifications/\",\r\n          {\r\n            data: {\r\n              sender: currentUser._id,\r\n              recipient: user._id,\r\n              commentId: comment._id,\r\n              postId: comment.postId,\r\n              type: \"commentLike\",\r\n            },\r\n          }\r\n        );\r\n      } catch (err) {}\r\n    }\r\n    fetchNotifications();\r\n  };\r\n\r\n  // delete comment\r\n  const handleDeleteComment = async () => {\r\n    try {\r\n      await axios.delete(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/comments/${comment._id}/`,\r\n        // `http://localhost:3000/api/comments/${comment._id}/`,\r\n        {\r\n          data: {\r\n            userId: currentUser._id,\r\n          },\r\n        }\r\n      );\r\n    } catch (err) {\r\n      alert(err);\r\n    }\r\n    setShowOptions(!showOptions);\r\n    setShowDeleteComment(!showDeleteComment);\r\n    fetchNotifications();\r\n    window.location.reload();\r\n  };\r\n\r\n  // edit comment\r\n  const handleEditComment = async (e) => {\r\n    e.preventDefault();\r\n    const updatedComment = {\r\n      userId: currentUser._id,\r\n      body: editBody.current.value,\r\n      edited: true,\r\n      editedtimestamp: Date.now(),\r\n    };\r\n    try {\r\n      await axios.put(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/comments/${comment._id}/`,\r\n        // `http://localhost:3000/api/comments/${comment._id}/`,\r\n        updatedComment\r\n      );\r\n      window.location.reload();\r\n    } catch (err) {}\r\n  };\r\n\r\n  // open options functionality\r\n  const handleOptions = () => {\r\n    setShowOptions(!showOptions);\r\n    if (showDeleteComment) {\r\n      setShowDeleteComment(!showDeleteComment);\r\n    }\r\n  };\r\n\r\n  // close all options functionality\r\n  const handleCancelAllOptions = () => {\r\n    setShowEdit(false);\r\n    setShowOptions(false);\r\n    setShowDeleteComment(false);\r\n  };\r\n\r\n  // if post delete options are open, close comment options{\r\n  useEffect(() => {\r\n    if (showDeletePost) {\r\n      handleCancelAllOptions();\r\n    }\r\n  }, [showDeletePost]);\r\n\r\n  return (\r\n    <div className=\"comment-container\">\r\n      <div className=\"comment-avatar-container\">\r\n        <Link to={`/profile/${user.username}`}>\r\n          <img\r\n            className=\"comment-avatar\"\r\n            src={\r\n              user.avatar\r\n                ? \"https://nodebook-images.s3.amazonaws.com/\" + user.avatar\r\n                : noAvi\r\n            }\r\n            alt=\"\"\r\n          />\r\n        </Link>\r\n      </div>\r\n      <div className=\"comment-right\">\r\n        <div className=\"comment-body-container\">\r\n          <div className=\"commenter-info-container\">\r\n            <div className=\"comment-info-left\">\r\n              <Link to={`/profile/${user.username}`}>\r\n                <span className=\"comment-username\">{user.username}</span>\r\n              </Link>\r\n              <span className=\"comment-date\">{format(comment.createdAt)}</span>\r\n            </div>\r\n\r\n            {/* comment options */}\r\n            {(user.username === currentUser.username ||\r\n              currentUser.isAdmin) && (\r\n              <div className=\"comment-info-right\">\r\n                <MoreVert\r\n                  className=\"comment-options-icon\"\r\n                  onClick={() => handleOptions()}\r\n                />\r\n                {showOptions && (\r\n                  <div className=\"comment-options-div\">\r\n                    <button\r\n                      className=\"comment-options-delete\"\r\n                      onClick={() => setShowDeleteComment(!showDeleteComment)}\r\n                    >\r\n                      delete\r\n                    </button>\r\n                    <button\r\n                      className=\"comment-options-edit\"\r\n                      onClick={() => setShowEdit(!showEdit)}\r\n                    >\r\n                      edit\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* comment body */}\r\n          <div className=\"comment-body\">{comment.body}</div>\r\n          {comment.edited && (\r\n            <span className=\"comment-edit\">\r\n              edit: {format(comment.editedtimestamp)}\r\n            </span>\r\n          )}\r\n          {/* edit input container */}\r\n          {showEdit && (\r\n            <div>\r\n              <form onSubmit={handleEditComment}>\r\n                <textarea\r\n                  className=\"edit-input\"\r\n                  type=\"text\"\r\n                  maxLength={500}\r\n                  ref={editBody}\r\n                  onChange={(e) => setDisableButton(e.target.value)}\r\n                  defaultValue={comment.body ? comment.body : null}\r\n                />\r\n                <div className=\"edit-option-buttons-div\">\r\n                  <button\r\n                    disabled={isInvalid}\r\n                    type=\"submit\"\r\n                    className={\r\n                      \"edit-options-button \" +\r\n                      (isInvalid ? \"invalid\" : \"edit-options-submit \")\r\n                    }\r\n                  >\r\n                    edit\r\n                  </button>\r\n                  <button\r\n                    className=\"edit-options-cancel edit-options-button\"\r\n                    onClick={() => handleCancelAllOptions()}\r\n                  >\r\n                    cancel\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          )}\r\n          {/* delete comment options container */}\r\n          {showDeleteComment && (\r\n            <div className=\"delete-comment-container\">\r\n              <span>Are you sure you want to delete this comment?</span>\r\n              <div className=\"delete-comment-button-container\">\r\n                <button\r\n                  className=\"delete-button\"\r\n                  onClick={() => handleDeleteComment()}\r\n                >\r\n                  DELETE\r\n                </button>\r\n                <button\r\n                  className=\"cancel-button\"\r\n                  onClick={() => setShowDeleteComment(!showDeleteComment)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"comment-like-container\">\r\n          {isLiked ? (\r\n            <Favorite className=\"like-icon liked\" onClick={likeHandler} />\r\n          ) : (\r\n            <FavoriteBorder className=\"like-icon\" onClick={likeHandler} />\r\n          )}\r\n          {like === 1 ? (\r\n            isLiked ? (\r\n              <span className=\"post-like-counter\">You like this</span>\r\n            ) : (\r\n              <span className=\"post-like-counter\">1 person likes this</span>\r\n            )\r\n          ) : like > 1 ? (\r\n            isLiked ? (\r\n              like === 2 ? (\r\n                <span className=\"post-like-counter\">\r\n                  You and {like - 1} other person like this\r\n                </span>\r\n              ) : (\r\n                <span className=\"post-like-counter\">\r\n                  You and {like - 1} other people like this\r\n                </span>\r\n              )\r\n            ) : (\r\n              <span className=\"post-like-counter\">{like} people like this</span>\r\n            )\r\n          ) : (\r\n            <span className=\"post-like-counter\">Be the first to like this</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { MoreVert, Favorite, FavoriteBorder } from \"@material-ui/icons\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Comment from \"./comment/Comment\";\r\nimport noAvi from \"../../assets/noAvatar.png\";\r\nimport \"./Post.scss\";\r\n\r\nexport default function Post({ post, page, fetchNotifications, sidebarOpen }) {\r\n  const [like, setLike] = useState(post.likerIds.length);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [comments, setComments] = useState([]);\r\n  const [user, setUser] = useState({});\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const commentRef = useRef();\r\n  const editBody = useRef();\r\n  let navigate = useNavigate();\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const [showDeletePost, setShowDeletePost] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [disableButton, setDisableButton] = useState(\"\");\r\n  const isInvalid = disableButton === \"\" || disableButton === post.body;\r\n  const [disableComment, setDisableComment] = useState(\"\");\r\n  const commentButtonIsInvalid = disableComment === \"\";\r\n\r\n  // get likes\r\n  useEffect(() => {\r\n    setIsLiked(post.likerIds.includes(currentUser._id));\r\n  }, [currentUser._id, post.likerIds]);\r\n\r\n  // get user\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users?userId=${post.userId}`\r\n        // `http://localhost:3000/api/users?userId=${post.userId}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [post.userId]);\r\n\r\n  // get comments\r\n  useEffect(() => {\r\n    const fetchComments = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/${post._id}/comments`\r\n      );\r\n      setComments(\r\n        res.data.sort((p1, p2) => {\r\n          return new Date(p1.createdAt) - new Date(p2.createdAt);\r\n        })\r\n      );\r\n    };\r\n    if (post.comments) {\r\n      fetchComments();\r\n    }\r\n  }, [user]);\r\n\r\n  // toggle likes\r\n  const likeHandler = () => {\r\n    try {\r\n      axios.put(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/${post._id}/like`,\r\n        // `http://localhost:3000/api/posts/${post._id}/like`,\r\n        { userId: currentUser._id, postId: post._id }\r\n      );\r\n    } catch (err) {}\r\n    setLike(isLiked ? like - 1 : like + 1);\r\n    setIsLiked(!isLiked);\r\n\r\n    if (!isLiked) {\r\n      // send like notification\r\n      try {\r\n        axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n          // \"http://localhost:3000/api/notifications/\",\r\n          {\r\n            sender: currentUser._id,\r\n            recipient: user._id,\r\n            postId: post._id,\r\n            commentId: null,\r\n            type: \"postLike\",\r\n            seen: false,\r\n          }\r\n        );\r\n      } catch (err) {}\r\n    } else if (isLiked) {\r\n      // delete like notification\r\n      try {\r\n        axios.delete(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n          // \"http://localhost:3000/api/notifications/\",\r\n          {\r\n            data: {\r\n              sender: currentUser._id,\r\n              recipient: user._id,\r\n              postId: post._id,\r\n              commentId: null,\r\n              type: \"postLike\",\r\n            },\r\n          }\r\n        );\r\n      } catch (err) {}\r\n    }\r\n    fetchNotifications();\r\n  };\r\n\r\n  // submit comment\r\n  const submitComment = async (e) => {\r\n    e.preventDefault();\r\n    const newComment = {\r\n      userId: currentUser._id,\r\n      body: commentRef.current.value,\r\n      postId: post._id,\r\n      sender: currentUser._id,\r\n      recipient: user._id,\r\n      type: \"comment\",\r\n      seen: false,\r\n    };\r\n    // send comment post request\r\n    try {\r\n      await axios.post(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/${post._id}/comment`,\r\n        // `http://localhost:3000/api/posts/${post._id}/comment`,\r\n        newComment\r\n      );\r\n    } catch (err) {}\r\n    window.location.reload();\r\n    fetchNotifications();\r\n  };\r\n\r\n  // edit post\r\n  const handleEditPost = async (e) => {\r\n    e.preventDefault();\r\n    const updatedPost = {\r\n      userId: currentUser._id,\r\n      body: editBody.current.value,\r\n      edited: true,\r\n      editedtimestamp: Date.now(),\r\n    };\r\n    try {\r\n      await axios.put(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/${post._id}`,\r\n        // `http://localhost:3000/api/posts/${post._id}/`,\r\n        updatedPost\r\n      );\r\n      window.location.reload();\r\n    } catch (err) {}\r\n  };\r\n\r\n  // delete post\r\n  const handleDeletePost = async () => {\r\n    try {\r\n      await axios.delete(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/${post._id}/`,\r\n        // `http://localhost:3000/api/posts/${post._id}/`,\r\n        {\r\n          data: {\r\n            userId: currentUser._id,\r\n          },\r\n        }\r\n      );\r\n    } catch (err) {\r\n      alert(err);\r\n    }\r\n    setShowOptions(!showOptions);\r\n    setShowDeletePost(!showDeletePost);\r\n    fetchNotifications();\r\n    navigate(\"/\", { replace: true });\r\n    window.location.reload();\r\n  };\r\n\r\n  // options button functionality\r\n  const handleShowOptions = () => {\r\n    setShowOptions(!showOptions);\r\n    if (showEdit) {\r\n      setShowEdit(!showEdit);\r\n    }\r\n    if (showDeletePost) {\r\n      setShowEdit(!showDeletePost);\r\n    }\r\n  };\r\n\r\n  // close all options\r\n  const handleCancelAllOptions = () => {\r\n    setShowEdit(false);\r\n    setShowOptions(false);\r\n    setShowDeletePost(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      {showDeletePost && (\r\n        <div className=\"delete-post-container\">\r\n          <span className=\"delete-post-message\">\r\n            Are you sure you want to delete this post?\r\n          </span>\r\n          <div className=\"delete-post-button-container\">\r\n            <button\r\n              className=\"delete-button\"\r\n              onClick={() => handleDeletePost()}\r\n            >\r\n              DELETE\r\n            </button>\r\n            <button\r\n              className=\"cancel-button\"\r\n              onClick={() => handleCancelAllOptions()}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div\r\n        className=\"post-wrapper\"\r\n        style={sidebarOpen ? { pointerEvents: \"none\" } : {}}\r\n      >\r\n        <div className=\"post-upper\">\r\n          <div className=\"post-top\">\r\n            <Link to={`/profile/${user.username}`}>\r\n              <img\r\n                className=\"post-avatar\"\r\n                src={\r\n                  user.avatar\r\n                    ? \"https://nodebook-images.s3.amazonaws.com/\" + user.avatar\r\n                    : noAvi\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </Link>\r\n\r\n            <div className=\"post-top-center\">\r\n              <div className=\"post-info\">\r\n                <span className=\"post-username\">{user.username}</span>\r\n                <span className=\"post-date\">{format(post.createdAt)}</span>\r\n              </div>\r\n              <span className=\"post-body\">{post?.body}</span>\r\n              {post.edited && (\r\n                <span className=\"post-edit\">\r\n                  edit: {format(post.editedtimestamp)}\r\n                </span>\r\n              )}\r\n            </div>\r\n            {/* options button - delete/edit */}\r\n            {(user.username === currentUser.username ||\r\n              currentUser.isAdmin) && (\r\n              <div className=\"post-top-right\">\r\n                <MoreVert\r\n                  className=\"post-options-icon\"\r\n                  onClick={() => handleShowOptions()}\r\n                />\r\n                {showOptions && !showDeletePost && !showEdit && (\r\n                  <div className=\"post-options-div\">\r\n                    <button\r\n                      className=\"post-options-delete\"\r\n                      onClick={() => setShowDeletePost(!showDeletePost)}\r\n                    >\r\n                      delete post\r\n                    </button>\r\n                    <button\r\n                      className=\"post-options-edit\"\r\n                      onClick={() => setShowEdit(!showEdit)}\r\n                    >\r\n                      edit post\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          {/* Post content */}\r\n          <div className=\"post-center\">\r\n            {/* edit input container */}\r\n            {showEdit && (\r\n              <div className=\"post-edit-form-container\">\r\n                <form onSubmit={handleEditPost}>\r\n                  <textarea\r\n                    className=\"edit-input\"\r\n                    type=\"text\"\r\n                    maxLength={500}\r\n                    ref={editBody}\r\n                    onChange={(e) => setDisableButton(e.target.value)}\r\n                    defaultValue={post?.body ? post?.body : null}\r\n                  />\r\n                  <button\r\n                    disabled={isInvalid}\r\n                    type=\"submit\"\r\n                    className={isInvalid ? \"invalid\" : \"edit-options-submit\"}\r\n                  >\r\n                    edit\r\n                  </button>\r\n                  <button\r\n                    className=\"edit-options-cancel\"\r\n                    onClick={() => handleCancelAllOptions()}\r\n                  >\r\n                    cancel\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            )}\r\n\r\n            {post.img && (\r\n              <div className=\"post-img-wrapper\">\r\n                <div className=\"post-img-container\">\r\n                  <img\r\n                    className=\"post-img\"\r\n                    src={\"https://nodebook-images.s3.amazonaws.com/\" + post.img}\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"post-bottom\">\r\n            <div className=\"post-bottom-left\">\r\n              {isLiked ? (\r\n                <Favorite className=\"like-icon liked\" onClick={likeHandler} />\r\n              ) : (\r\n                <FavoriteBorder className=\"like-icon\" onClick={likeHandler} />\r\n              )}\r\n              <Link to={`/${post._id}/likes`}>\r\n                {like === 1 ? (\r\n                  isLiked ? (\r\n                    <span className=\"post-like-counter\">You like this</span>\r\n                  ) : (\r\n                    <span className=\"post-like-counter\">\r\n                      1 person likes this\r\n                    </span>\r\n                  )\r\n                ) : like > 1 ? (\r\n                  isLiked ? (\r\n                    like === 2 ? (\r\n                      <span className=\"post-like-counter\">\r\n                        You and {like - 1} other person like this\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"post-like-counter\">\r\n                        You and {like - 1} other people like this\r\n                      </span>\r\n                    )\r\n                  ) : (\r\n                    <span className=\"post-like-counter\">\r\n                      {like} people like this\r\n                    </span>\r\n                  )\r\n                ) : (\r\n                  <span className=\"post-like-counter\">\r\n                    Be the first to like this\r\n                  </span>\r\n                )}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"post-comments-container\">\r\n          <div className=\"post-comment-input-container\">\r\n            <textarea\r\n              className=\"comment-input\"\r\n              type=\"text\"\r\n              ref={commentRef}\r\n              onChange={(e) => setDisableComment(e.target.value)}\r\n              placeholder=\"add a comment!\"\r\n              maxLength={500}\r\n            />\r\n            <form\r\n              onSubmit={submitComment}\r\n              className=\"post-comment-button-container\"\r\n            >\r\n              <button\r\n                type=\"submit\"\r\n                disabled={commentButtonIsInvalid}\r\n                className={\r\n                  commentButtonIsInvalid\r\n                    ? \"invalid-comment-button comment-button\"\r\n                    : \"comment-button\"\r\n                }\r\n              >\r\n                comment\r\n              </button>\r\n            </form>\r\n          </div>\r\n          {/* postPage - show all comments */}\r\n          {comments && comments.length > 0 && page === \"postPage\" && (\r\n            <div className=\"post-comments\">\r\n              {comments.map((comment) => (\r\n                <Comment\r\n                  comment={comment}\r\n                  fetchNotifications={fetchNotifications}\r\n                  showDeletePost={showDeletePost}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n          {/* timeline - show comments if 1 or 2 */}\r\n          {comments &&\r\n            comments.length > 0 &&\r\n            comments.length < 3 &&\r\n            page === \"timeline\" && (\r\n              <div className=\"post-comments\">\r\n                {comments.map((comment) => (\r\n                  <Comment\r\n                    comment={comment}\r\n                    fetchNotifications={fetchNotifications}\r\n                    showDeletePost={showDeletePost}\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          {/* timeline - show 'view more comments' button */}\r\n          {comments && comments.length > 2 && page === \"timeline\" && (\r\n            <div className=\"post-comments\">\r\n              <Comment\r\n                comment={comments[0]}\r\n                fetchNotifications={fetchNotifications}\r\n                showDeletePost={showDeletePost}\r\n              />\r\n              <button\r\n                className=\"view-more-comments-button\"\r\n                style={sidebarOpen ? { pointerEvents: \"none\" } : {}}\r\n              >\r\n                <Link to={\"/post/\" + post._id}>\r\n                  View more comments {\"(\" + post.comments.length + \")\"}\r\n                </Link>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"./Timeline.scss\";\r\nimport axios from \"axios\";\r\n// component imports\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport Share from \"../share/Share\";\r\nimport Post from \"../post/Post\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Timeline({\r\n  fetchNotifications,\r\n  setSidebarOpen,\r\n  setCurrentPage,\r\n}) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [posts, setPosts] = useState([]);\r\n  const [skip, setSkip] = useState(0);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  // set current page to \"Timeline\" on load\r\n  useEffect(() => {\r\n    setCurrentPage(\"Timeline\");\r\n  });\r\n\r\n  let username = user.username;\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/timeline/${user._id}/${skip}`\r\n        // `http://localhost:3000/api/posts/timeline/${user._id}/${skip}`\r\n      );\r\n      setPosts([...posts, ...res.data]);\r\n      setLoading(false);\r\n    };\r\n    if (username) {\r\n      fetchPosts();\r\n    }\r\n  }, [username, user._id, skip]);\r\n\r\n  // infinite scroll functionality\r\n  const handleScroll = (e) => {\r\n    const { offsetHeight, scrollTop, scrollHeight } = e.target;\r\n\r\n    if (offsetHeight + scrollTop > scrollHeight * 0.95) {\r\n      setSkip(posts.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"timeline\"\r\n      onScroll={handleScroll}\r\n      onClick={() => setSidebarOpen(false)}\r\n    >\r\n      <>\r\n        {loading ? (\r\n          <Loader type={\"full-screen\"} />\r\n        ) : (\r\n          <div onScroll={handleScroll}>\r\n            <div className=\"timeline-wrapper\">\r\n              {(!username || username === user.username) && (\r\n                <div className=\"share-dektop-container\">\r\n                  <Share />\r\n                </div>\r\n              )}\r\n              {posts.map((post) => (\r\n                <Post\r\n                  key={post._id}\r\n                  post={post}\r\n                  page=\"timeline\"\r\n                  fetchNotifications={fetchNotifications}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport \"./Nav.scss\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\n\r\nexport default function Nav({\r\n  profileUser,\r\n  currentPage,\r\n  post,\r\n  notificationsCount,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const username = useParams().username;\r\n  const postId = useParams().postId;\r\n  const [followed, setFollowed] = useState(false);\r\n  const { user, dispatch } = useContext(AuthContext);\r\n  const [postUser, setPostUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    const checkFollowing = async () => {\r\n      let check = await user.followings.includes(profileUser?._id);\r\n      setFollowed(check);\r\n    };\r\n    checkFollowing();\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (postId) {\r\n      const fetchPost = async () => {\r\n        const postData = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/posts/${postId}`\r\n        );\r\n        const fetchUser = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users?userId=${postData.data.userId}`\r\n        );\r\n        setPostUser(fetchUser.data);\r\n      };\r\n      fetchPost();\r\n    }\r\n  }, [postId]);\r\n\r\n  const handleClick = async () => {\r\n    console.log(\"followed\", followed);\r\n    try {\r\n      if (followed) {\r\n        await axios.put(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/${profileUser._id}/unfollow`,\r\n          {\r\n            userId: user._id,\r\n          }\r\n        );\r\n        dispatch({ type: \"UNFOLLOW\", payload: profileUser._id });\r\n        // delete follow notification\r\n        try {\r\n          axios.delete(\r\n            \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n            // \"http://localhost:3000/api/notifications/\",\r\n            {\r\n              data: {\r\n                sender: user._id,\r\n                recipient: profileUser._id,\r\n                postId: null,\r\n                commentId: null,\r\n                type: \"follow\",\r\n              },\r\n            }\r\n          );\r\n        } catch (err) {}\r\n      } else {\r\n        await axios.put(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/${profileUser._id}/follow`,\r\n          {\r\n            userId: user._id,\r\n          }\r\n        );\r\n        dispatch({ type: \"FOLLOW\", payload: profileUser._id });\r\n        // send follow notification\r\n        try {\r\n          axios.post(\r\n            \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n            // \"http://localhost:3000/api/notifications/\",\r\n            {\r\n              sender: user._id,\r\n              recipient: profileUser._id,\r\n              postId: null,\r\n              commentId: null,\r\n              type: \"follow\",\r\n              seen: false,\r\n            }\r\n          );\r\n        } catch (err) {}\r\n      }\r\n      setFollowed(!followed);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const TimelineNav = () => {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"mobile-menu-button-container\">\r\n            <div\r\n              className=\"hamburger\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <MenuIcon className=\"hamburger-icon\" />\r\n            </div>\r\n          </div>\r\n          <span className=\"nav-title\">{currentPage}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const FollowsNav = () => {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"mobile-menu-button-container\">\r\n            <div\r\n              className=\"hamburger\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <MenuIcon className=\"hamburger-icon\" />\r\n            </div>\r\n          </div>\r\n          <span className=\"nav-title\">\r\n            {currentPage === \"Followers\" && (\r\n              <>\r\n                {currentPage} {\" (\"}\r\n                {user.followers.length}\r\n                {\") \"}\r\n              </>\r\n            )}\r\n            {currentPage === \"Following\" && (\r\n              <>\r\n                {currentPage} {\" (\"}\r\n                {user.followings.length}\r\n                {\") \"}\r\n              </>\r\n            )}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ProfileNav = () => {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"mobile-menu-button-container\">\r\n            <div\r\n              className=\"hamburger\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <MenuIcon className=\"hamburger-icon\" />\r\n            </div>\r\n          </div>\r\n          {profileUser ? (\r\n            <div className=\"nav-info-container\">\r\n              <span className=\"nav-title\">{profileUser.username}</span>\r\n              {username !== user.username && (\r\n                <button className=\"follow-button\" onClick={handleClick}>\r\n                  {followed ? \"Unfollow\" : \"Follow\"}\r\n                  {followed ? <Remove /> : <Add />}\r\n                </button>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <span className=\"nav-title\">Loading...</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const UpdateNav = () => {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"mobile-menu-button-container\">\r\n            <div\r\n              className=\"hamburger\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <MenuIcon className=\"hamburger-icon\" />\r\n            </div>\r\n          </div>\r\n          {user ? (\r\n            <div className=\"nav-info-container\">\r\n              <span className=\"nav-title\">\r\n                {user.username} - update profile\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <span className=\"nav-title\">Loading...</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const NotificationsNav = () => {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"mobile-menu-button-container\">\r\n            <div\r\n              className=\"hamburger\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <MenuIcon className=\"hamburger-icon\" />\r\n            </div>\r\n          </div>\r\n          {user ? (\r\n            <div className=\"nav-info-container\">\r\n              <span className=\"nav-title\">\r\n                Notifications {\"(\" + notificationsCount + \")\"}\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <span className=\"nav-title\">Loading...</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const PostNav = () => {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"mobile-menu-button-container\">\r\n            <div\r\n              className=\"hamburger\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <MenuIcon className=\"hamburger-icon\" />\r\n            </div>\r\n          </div>\r\n          {user && post ? (\r\n            <div className=\"nav-info-container\">\r\n              <span className=\"nav-title\">\r\n                {postUser.username} - {\"(\" + post.comments.length + \" replies)\"}\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <span className=\"nav-title\">Loading...</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const LikesNav = () => {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"mobile-menu-button-container\">\r\n            <div\r\n              className=\"hamburger\"\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <MenuIcon className=\"hamburger-icon\" />\r\n            </div>\r\n          </div>\r\n          {user && post ? (\r\n            <div className=\"nav-info-container\">\r\n              <span className=\"nav-title\">\r\n                {postUser.username} - {\"(\" + post.likes.length + \" likes)\"}\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <span className=\"nav-title\">Loading...</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {currentPage === \"Timeline\" && <TimelineNav />}\r\n      {currentPage === \"Profile\" && <ProfileNav />}\r\n      {currentPage === \"NotUsersProfile\" && <ProfileNav />}\r\n      {currentPage === \"Update\" && <UpdateNav />}\r\n      {currentPage === \"Followers\" && <FollowsNav />}\r\n      {currentPage === \"Following\" && <FollowsNav />}\r\n      {currentPage === \"Notifications\" && <NotificationsNav />}\r\n      {currentPage === \"Post\" && <PostNav />}\r\n      {currentPage === \"Explore\" && <TimelineNav />}\r\n      {currentPage === \"Share\" && <TimelineNav />}\r\n      {currentPage === \"Likes\" && <LikesNav />}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Home.scss\";\r\nimport Timeline from \"../../components/timeline/Timeline\";\r\nimport Nav from \"../../components/nav/Nav\";\r\n\r\nexport default function Home({\r\n  currentPage,\r\n  setCurrentPage,\r\n  fetchNotifications,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  return (\r\n    <div className=\"container\" id=\"container\">\r\n      <Nav\r\n        currentPage={currentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n      <Timeline\r\n        setCurrentPage={setCurrentPage}\r\n        fetchNotifications={fetchNotifications}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Image.scss\";\r\nimport noAvi from \"../../assets/noAvatar.png\";\r\n\r\nexport default function Image({ image, fetchNotifications }) {\r\n  return (\r\n    <div className=\"image-wrapper\">\r\n      <img\r\n        src={\r\n          image.img\r\n            ? \"https://nodebook-images.s3.amazonaws.com/\" + image.img\r\n            : noAvi\r\n        }\r\n        className=\"profile-images-img\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Follower.scss\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport noAvi from \"../../assets/noAvatar.png\";\r\n\r\nexport default function Follower({\r\n  friend,\r\n  handleFollowingStatus,\r\n  sidebarOpen,\r\n  loadNewUser,\r\n}) {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const [followStatus, setFollowStatus] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkFollowStatus = async () => {\r\n      setTimeout(async function () {\r\n        if (friend._id === (await currentUser._id)) {\r\n          setFollowStatus(\"you\");\r\n        } else if (\r\n          friend.followingStatus === true &&\r\n          friend.followerStatus === true\r\n        ) {\r\n          setFollowStatus(\"mutual following\");\r\n        } else if (\r\n          friend.followingStatus === false &&\r\n          friend.followerStatus === true\r\n        ) {\r\n          setFollowStatus(\"follows you\");\r\n        } else if (\r\n          friend.followingStatus === true &&\r\n          friend.followerStatus === false\r\n        ) {\r\n          setFollowStatus(\"doesn't follow you\");\r\n        }\r\n        setLoading(false);\r\n      }, 1000);\r\n    };\r\n    checkFollowStatus();\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        followStatus !== \"you\"\r\n          ? \"follow-container\"\r\n          : \"follow-container current-user-container\"\r\n      }\r\n      key={friend._id}\r\n    >\r\n      {loading ? (\r\n        <Loader type={\"follower\"} />\r\n      ) : (\r\n        <>\r\n          <Link\r\n            to={\"/profile/\" + friend.username}\r\n            style={{ textDecoration: \"none\" }}\r\n            onClick={() => loadNewUser(friend.username)}\r\n          >\r\n            <div className=\"follow-container-left\">\r\n              <img\r\n                src={\r\n                  friend.avatar\r\n                    ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                      friend.avatar\r\n                    : noAvi\r\n                }\r\n                alt=\"\"\r\n                className=\"follow-img\"\r\n              />\r\n              <div className=\"follow-user-info\">\r\n                <span className=\"follow-username\">{friend.username}</span>\r\n                <span className=\"follow-name\">\r\n                  {friend.firstname} {friend.lastname}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n          {/* follow unfollow button */}\r\n          {followStatus !== \"you\" && (\r\n            <div className=\"follow-container-right\">\r\n              <span className=\"follow-status-span\">{followStatus}</span>\r\n              <button\r\n                disabled={sidebarOpen}\r\n                className=\"follow-button\"\r\n                onClick={() =>\r\n                  handleFollowingStatus(friend.followingStatus, friend)\r\n                }\r\n              >\r\n                {friend.followingStatus ? \"Unfollow \" : \"Follow \"}\r\n                {friend.followingStatus ? <Remove /> : <Add />}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"./CenterFeed.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport {\r\n  AccountBox,\r\n  Chat,\r\n  Group,\r\n  Edit,\r\n  Image as ImageIcon,\r\n} from \"@material-ui/icons\";\r\n// component imports\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport Share from \"../share/Share\";\r\nimport Post from \"../post/Post\";\r\nimport Image from \"../image/Image\";\r\nimport Follower from \"../follower/Follower\";\r\n\r\nexport default function CenterFeed({\r\n  profileUser,\r\n  feed,\r\n  fetchNotifications,\r\n  loading,\r\n  posts,\r\n  images,\r\n  friends,\r\n  handleFollowingStatus,\r\n  sidebarOpen,\r\n  loadNewUser,\r\n  getInitialPosts,\r\n  getInitialFollows,\r\n  getInitialImages,\r\n  setToInfo,\r\n}) {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n\r\n  const formatBday = (date) => {\r\n    let arr = date.split(\"-\");\r\n    let formattedDate = arr[1] + \"/\" + arr[2] + \"/\" + arr[0];\r\n    return formattedDate;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"profile-feed\">\r\n        <div className=\"profile-header\">\r\n          <div className=\"profile-header-wrapper\">\r\n            <div className=\"profile-info\">\r\n              <h4 className=\"profile-info-username\">{profileUser.username}</h4>\r\n              <span className=\"profile-info-name\">\r\n                {profileUser.firstname} {profileUser.lastname}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"profile-header-buttons-container\"\r\n          style={sidebarOpen ? { pointerEvents: \"none\" } : {}}\r\n        >\r\n          <div className=\"profile-header-buttons-wrapper\">\r\n            {/* INFO BUTTON */}\r\n            <div\r\n              onClick={() => setToInfo()}\r\n              className={\r\n                \"profile-info-clickable \" +\r\n                (feed === \"info\" ? \"pic-active\" : \"\")\r\n              }\r\n            >\r\n              <span className=\"button-name\">info</span>\r\n              <AccountBox className=\"profile-info-icon\" />\r\n            </div>\r\n            {/* POSTS BUTTON */}\r\n            <div\r\n              onClick={() => getInitialPosts()}\r\n              className={\r\n                \"profile-info-clickable \" +\r\n                (feed === \"posts\" ? \"pic-active\" : \"\")\r\n              }\r\n            >\r\n              <span className=\"count\">\r\n                {profileUser.posts ? profileUser.posts.length : \"0\"}\r\n              </span>\r\n              <span className=\"button-name\">posts</span>\r\n              <Chat className=\"profile-info-icon\" />\r\n            </div>\r\n            {/* IMAGES BUTTON */}\r\n            <div\r\n              onClick={() => getInitialImages()}\r\n              className={\r\n                \"profile-info-clickable \" +\r\n                (feed === \"images\" ? \"pic-active\" : \"\")\r\n              }\r\n            >\r\n              <span className=\"count\">\r\n                {profileUser.images ? profileUser.images.length : \"0\"}\r\n              </span>\r\n              <span className=\"button-name\">images</span>\r\n              <ImageIcon className=\"profile-info-icon\" />\r\n            </div>\r\n            {/* FOLLOWERS BUTTON */}\r\n            <div\r\n              onClick={() => getInitialFollows(\"followers\")}\r\n              className={\r\n                \"profile-info-clickable \" +\r\n                (feed === \"followers\" ? \"pic-active\" : \"\")\r\n              }\r\n            >\r\n              <span className=\"count\">\r\n                {profileUser.followers ? profileUser.followers.length : \"0\"}\r\n              </span>\r\n              <span className=\"button-name\">followers</span>\r\n              <Group className=\"profile-info-icon\" />\r\n            </div>\r\n            {/* FOLLOWING BUTTON */}\r\n            <div\r\n              onClick={() => getInitialFollows(\"following\")}\r\n              className={\r\n                \"profile-info-clickable \" +\r\n                (feed === \"following\" ? \"pic-active\" : \"\")\r\n              }\r\n            >\r\n              <span className=\"count\">\r\n                {profileUser.followings ? profileUser.followings.length : \"0\"}\r\n              </span>\r\n              <span className=\"button-name\">following</span>\r\n              <Group className=\"profile-info-icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {loading ? (\r\n          <Loader type={\"center-feed\"} />\r\n        ) : (\r\n          <div className=\"feed\">\r\n            {/* INFO FEED */}\r\n            {feed === \"info\" && (\r\n              <div className=\"feed-wrapper\">\r\n                <div className=\"profileInfo-container\">\r\n                  {currentUser._id === profileUser._id && (\r\n                    <Link to={`/${currentUser._id}/update`}>\r\n                      <div title=\"update user info\">\r\n                        <Edit className=\"edit-icon\" />\r\n                      </div>\r\n                    </Link>\r\n                  )}\r\n                  <div className=\"profile-info-div\">\r\n                    <div className=\"profile-info-strong\">Name:</div>{\" \"}\r\n                    <div className=\"profile-info-content\">\r\n                      {profileUser.firstname} {profileUser.lastname}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"profile-info-div\">\r\n                    {\" \"}\r\n                    <div className=\"profile-info-strong\">Bio:</div>{\" \"}\r\n                    <div className=\"profile-info-content\">\r\n                      {profileUser.about}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"profile-info-div\">\r\n                    <div className=\"profile-info-strong\">Birthday:</div>{\" \"}\r\n                    <div className=\"profile-info-content\">\r\n                      {profileUser.birthday\r\n                        ? formatBday(profileUser.birthday)\r\n                        : \"private\"}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"profile-info-div\">\r\n                    <div className=\"profile-info-strong\">Location:</div>{\" \"}\r\n                    <div className=\"profile-info-content\">\r\n                      {profileUser.location ? profileUser.location : \"private\"}\r\n                    </div>\r\n                  </div>\r\n                  {/* WEBSITE */}\r\n                  <div className=\"profile-info-div\">\r\n                    <div className=\"profile-info-strong\">Website:</div>{\" \"}\r\n                    <div className=\"profile-info-content\">\r\n                      {profileUser.website ? (\r\n                        <a\r\n                          href={profileUser.website}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"profile-website-a\"\r\n                        >\r\n                          {profileUser.website}\r\n                        </a>\r\n                      ) : (\r\n                        \"private\"\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {/* POST FEED */}\r\n            {feed === \"posts\" && (\r\n              <div className=\"feed-wrapper\">\r\n                {(!profileUser.username ||\r\n                  profileUser.username === currentUser.username) && (\r\n                  <div className=\"share-dektop-container\">\r\n                    <Share />\r\n                  </div>\r\n                )}\r\n                {posts.length > 0 && loading === false ? (\r\n                  <div className=\"profile-posts-feed\">\r\n                    {posts.map((post) => (\r\n                      <Post\r\n                        key={post._id}\r\n                        post={post}\r\n                        page=\"timeline\"\r\n                        fetchNotifications={fetchNotifications}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <span className=\"no-content-message\">No posts yet ☹</span>\r\n                )}\r\n              </div>\r\n            )}\r\n            {/* IMAGES FEED */}\r\n            {feed === \"images\" && (\r\n              <div className=\"feed-wrapper\">\r\n                {images.length > 0 && loading === false ? (\r\n                  <div className=\"profile-images-feed\">\r\n                    {images.map((image) => (\r\n                      <Image\r\n                        key={image._id}\r\n                        image={image}\r\n                        page=\"timeline\"\r\n                        fetchNotifications={fetchNotifications}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <span className=\"no-content-message\">No images yet ☹</span>\r\n                )}\r\n              </div>\r\n            )}\r\n            {/* FOLLOWERS FEED */}\r\n            {feed === \"followers\" && (\r\n              <div className=\"feed-wrapper\">\r\n                {friends.length > 0 ? (\r\n                  <div className=\"profile-follows-feed\">\r\n                    {friends.map((friend) => (\r\n                      <Follower\r\n                        friend={friend}\r\n                        loadNewUser={loadNewUser}\r\n                        handleFollowingStatus={handleFollowingStatus}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <span className=\"no-content-message\">\r\n                    Nothing to see here ☹\r\n                  </span>\r\n                )}\r\n              </div>\r\n            )}\r\n            {/* FOLLOWING FEED */}\r\n            {feed === \"following\" && (\r\n              <div className=\"feed-wrapper\">\r\n                {friends.length > 0 ? (\r\n                  <div className=\"profile-follows-feed\">\r\n                    {friends.map((friend) => (\r\n                      <Follower\r\n                        friend={friend}\r\n                        loadNewUser={loadNewUser}\r\n                        handleFollowingStatus={handleFollowingStatus}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <span className=\"no-content-message\">\r\n                    Nothing to see here ☹\r\n                  </span>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/cover.cfc827b9.png\";","export default __webpack_public_path__ + \"static/media/avatarCropper.4a059494.png\";","export default __webpack_public_path__ + \"static/media/coverCropper.99f10cfc.png\";","import { useEffect, useState, useContext } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport CenterFeed from \"../../components/centerFeed/CenterFeed\";\r\nimport Nav from \"../../components/nav/Nav\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport cover from \"../../assets/cover.png\";\r\nimport noAvi from \"../../assets/noAvatar.png\";\r\nimport plusSign from \"../../assets/plusSign.png\";\r\nimport avatarCropper from \"../../assets/avatarCropper.png\";\r\nimport coverCropper from \"../../assets/coverCropper.png\";\r\nimport { PermMedia, Cancel } from \"@material-ui/icons\";\r\nimport { Edit } from \"@material-ui/icons\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport \"./Profile.scss\";\r\n\r\nexport default function Profile({\r\n  currentPage,\r\n  setCurrentPage,\r\n  fetchNotifications,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const [profileUser, setProfileUser] = useState({});\r\n  const username = useParams().username;\r\n  const [followed, setFollowed] = useState(false);\r\n  const [feed, setFeed] = useState(\"posts\");\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n  const [skip, setSkip] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [posts, setPosts] = useState([]);\r\n  const [images, setImages] = useState([]);\r\n  const [friends, setFriends] = useState([]);\r\n  const [avatarModal, setAvatarModal] = useState(false);\r\n  const [coverModal, setCoverModal] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const isInvalid = file === \"\" || file === null;\r\n  const [sending, setSending] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkFollowing = async () => {\r\n      let check = await currentUser.followings.includes(profileUser?._id);\r\n      setFollowed(check);\r\n    };\r\n    checkFollowing();\r\n    // remove unused error\r\n    if (followed) {\r\n      return null;\r\n    }\r\n  });\r\n\r\n  // gets the profiles user info\r\n  const loadNewUser = async (newUser) => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users?username=${newUser}`\r\n        // `http://localhost:3000/api/users?username=${newUser}`\r\n      );\r\n      setProfileUser(res.data);\r\n      setFeed(\"posts\");\r\n      fetchPosts(res.data.username);\r\n    };\r\n\r\n    const fetchPosts = async (userFetched) => {\r\n      setTimeout(async function () {\r\n        const res = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/posts/profile/${userFetched}/0`\r\n          // `http://localhost:3000/api/posts/profile/${userFetched}/0`\r\n        );\r\n        setPosts(res.data);\r\n        setLoading(false);\r\n      }, 1000);\r\n    };\r\n    setLoading(true);\r\n    fetchUser();\r\n  };\r\n\r\n  const getInitialPosts = async () => {\r\n    setLoading(true);\r\n    setPosts([]);\r\n    setSkip(0);\r\n    setFeed(\"posts\");\r\n    setTimeout(async function () {\r\n      console.log(profileUser.username);\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/profile/${profileUser.username}/0`\r\n        // `http://localhost:3000/api/posts/profile/${profileUser.username}/0`\r\n      );\r\n      setPosts(res.data);\r\n      setLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const getInitialImages = async () => {\r\n    setLoading(true);\r\n    setPosts([]);\r\n    setImages([]);\r\n    setSkip(0);\r\n    setFeed(\"images\");\r\n    setTimeout(async function () {\r\n      console.log(profileUser.username);\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/profile/${profileUser.username}/images/0`\r\n        // `http://localhost:3000/api/posts/profile/${profileUser.username}/images/0`\r\n      );\r\n      setImages(res.data);\r\n      setLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const getInitialFollows = async (type) => {\r\n    setLoading(true);\r\n    setFeed(type);\r\n    setSkip(0);\r\n    setTimeout(async function () {\r\n      try {\r\n        const followsList = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/${profileUser._id}/${type}-profile/${currentUser._id}/0`\r\n          // `http://localhost:3000/api/users/${profileUser._id}/${type}-profile/${currentUser._id}/0`\r\n        );\r\n        setFriends(followsList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    }, 300);\r\n  };\r\n\r\n  const getScrollPosts = async () => {\r\n    const res = await axios.get(\r\n      `https://radiant-oasis-77477.herokuapp.com/api/posts/profile/${profileUser.username}/${skip}`\r\n      // `http://localhost:3000/api/posts/profile/${profileUser.username}/${skip}`\r\n    );\r\n    setPosts([...posts, ...res.data]);\r\n    setLoading(false);\r\n  };\r\n\r\n  const getScrollFollows = async () => {\r\n    try {\r\n      const followsList = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users/${profileUser._id}/${feed}-profile/${currentUser._id}/${skip}`\r\n        // `http://localhost:3000/api/users/${profileUser._id}/${feed}-profile/${currentUser._id}/${skip}`\r\n      );\r\n      setFriends([...friends, ...followsList.data]);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // GET SCROLL IMAGES\r\n\r\n  const setToInfo = async () => {\r\n    setFeed(\"info\");\r\n  };\r\n\r\n  // infinite scroll functionality\r\n  const handleScroll = (e) => {\r\n    const { offsetHeight, scrollTop, scrollHeight } = e.target;\r\n    if (offsetHeight + scrollTop > scrollHeight * 0.98) {\r\n      if (feed === \"posts\" && posts.length > skip + 4) {\r\n        setSkip(posts.length);\r\n      } else if (feed !== \"posts\" && friends.length > skip + 9) {\r\n        setSkip(friends.length);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadNewUser(username);\r\n    if (username === currentUser.username) {\r\n      setCurrentPage(\"Profile\");\r\n    } else {\r\n      setCurrentPage(\"NotUsersProfile\");\r\n    }\r\n  }, [username]);\r\n\r\n  // gets posts on scroll\r\n  useEffect(() => {\r\n    if (feed === \"posts\" && profileUser.username && skip > 0) {\r\n      getScrollPosts();\r\n    }\r\n    // update follows on infinite scroll\r\n    if (feed === \"followers\" || feed === \"following\") {\r\n      getScrollFollows();\r\n    }\r\n  }, [skip]);\r\n\r\n  // FOLLOW FEED FUNCTIONALITY\r\n  // FOLLOW FEED FUNCTIONALITY\r\n  const handleFollowingStatus = async (followed, userInQuestion) => {\r\n    const updateFollow = async () => {\r\n      try {\r\n        if (followed) {\r\n          await axios.put(\r\n            `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/unfollow`,\r\n            {\r\n              userId: currentUser._id,\r\n            }\r\n          );\r\n          dispatch({ type: \"UNFOLLOW\", payload: userInQuestion._id });\r\n          // delete follow notification\r\n          try {\r\n            axios.delete(\r\n              \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n              // \"http://localhost:3000/api/notifications/\",\r\n              {\r\n                data: {\r\n                  sender: currentUser._id,\r\n                  recipient: userInQuestion._id,\r\n                  postId: null,\r\n                  commentId: null,\r\n                  type: \"follow\",\r\n                },\r\n              }\r\n            );\r\n          } catch (err) {}\r\n        } else {\r\n          await axios.put(\r\n            `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/follow`,\r\n            {\r\n              userId: currentUser._id,\r\n            }\r\n          );\r\n          dispatch({ type: \"FOLLOW\", payload: userInQuestion._id });\r\n          // send follow notification\r\n          try {\r\n            axios.post(\r\n              \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n              // \"http://localhost:3000/api/notifications/\",\r\n              {\r\n                sender: currentUser._id,\r\n                recipient: userInQuestion._id,\r\n                postId: null,\r\n                commentId: null,\r\n                type: \"follow\",\r\n                seen: false,\r\n              }\r\n            );\r\n          } catch (err) {}\r\n        }\r\n      } catch (err) {}\r\n    };\r\n\r\n    updateFollow();\r\n  };\r\n\r\n  const handleAvatarUpdate = async (e) => {\r\n    e.preventDefault();\r\n    setSending(true);\r\n    if (file) {\r\n      const data = new FormData();\r\n\r\n      data.append(\"file\", file);\r\n      data.append(\"userId\", currentUser._id);\r\n\r\n      try {\r\n        await axios.put(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/users/avatar\",\r\n          // `http://localhost:3000/api/users/avatar/`,\r\n          data\r\n        );\r\n        window.location.reload();\r\n      } catch (err) {}\r\n    }\r\n  };\r\n\r\n  const handleCoverUpdate = async (e) => {\r\n    e.preventDefault();\r\n    setSending(true);\r\n\r\n    if (file) {\r\n      const data = new FormData();\r\n\r\n      data.append(\"file\", file);\r\n      data.append(\"userId\", currentUser._id);\r\n\r\n      try {\r\n        await axios.put(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/users/cover\",\r\n          // `http://localhost:3000/api/users/cover/`,\r\n          data\r\n        );\r\n        window.location.reload();\r\n      } catch (err) {}\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" id=\"container\">\r\n        <div className=\"profile-right\">\r\n          <Nav\r\n            user={currentUser}\r\n            profileUser={profileUser}\r\n            currentPage={currentPage}\r\n            sidebarOpen={sidebarOpen}\r\n            setSidebarOpen={setSidebarOpen}\r\n          />\r\n          <div\r\n            className=\"profile-right-content\"\r\n            onClick={() => setSidebarOpen(false)}\r\n            onScroll={handleScroll}\r\n          >\r\n            {/* AVATAR CHANGE MODAL */}\r\n            {avatarModal &&\r\n              (!sending ? (\r\n                <div className=\"avatar-modal-wrapper\">\r\n                  <div className=\"avatar-modal-container\">\r\n                    {file && (\r\n                      <div className=\"avatar-modal-img-container\">\r\n                        <img\r\n                          className=\"avatar-modal-cropper\"\r\n                          src={avatarCropper}\r\n                          alt=\"\"\r\n                        />\r\n                        <img\r\n                          className=\"avatar-modal-img\"\r\n                          src={URL.createObjectURL(file)}\r\n                          alt=\"\"\r\n                        />\r\n                        <Cancel\r\n                          className=\"avatar-modal-cancel-img\"\r\n                          onClick={() => setFile(\"\")}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"avatar-modal-bottom-container\">\r\n                      <form\r\n                        className=\"avatar-modal-bottom\"\r\n                        onSubmit={handleAvatarUpdate}\r\n                        encType=\"multipart/form-data\"\r\n                      >\r\n                        <div className=\"avatar-modal-options\">\r\n                          <label htmlFor=\"file\" className=\"avatar-modal-option\">\r\n                            <PermMedia className=\"file-icon\" />\r\n                            <span className=\"avatar-modal-option-text\">\r\n                              Select a new avatar\r\n                            </span>\r\n                            <input\r\n                              style={{ display: \"none\" }}\r\n                              type=\"file\"\r\n                              id=\"file\"\r\n                              name=\"file\"\r\n                              accept=\".png,.jpeg,.jpg\"\r\n                              onChange={(e) => setFile(e.target.files[0])}\r\n                            />\r\n                          </label>\r\n                        </div>\r\n                        <button\r\n                          type=\"submit\"\r\n                          className={\r\n                            isInvalid\r\n                              ? \"save-button invalid-save-button\"\r\n                              : \"save-button\"\r\n                          }\r\n                          disabled={isInvalid}\r\n                        >\r\n                          save\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                  {sending ? (\r\n                    <div className=\"modal-background\"></div>\r\n                  ) : (\r\n                    <div\r\n                      className=\"modal-background\"\r\n                      onClick={() => setAvatarModal(false)}\r\n                    ></div>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"avatar-modal-wrapper\">\r\n                  <div className=\"avatar-modal-container\">\r\n                    <Loader />\r\n                  </div>\r\n                  <div className=\"modal-background\"></div>\r\n                </div>\r\n              ))}\r\n            {/* COVER CHANGE MODAL */}\r\n            {coverModal &&\r\n              (!sending ? (\r\n                <div className=\"avatar-modal-wrapper\">\r\n                  <div className=\"avatar-modal-container\">\r\n                    {file && (\r\n                      <div className=\"cover-modal-img-container\">\r\n                        <img\r\n                          className=\"cover-modal-cropper\"\r\n                          src={coverCropper}\r\n                          alt=\"\"\r\n                        />\r\n                        <img\r\n                          className=\"cover-modal-img\"\r\n                          src={URL.createObjectURL(file)}\r\n                          alt=\"\"\r\n                        />\r\n                        <Cancel\r\n                          className=\"cover-modal-cancel-img\"\r\n                          onClick={() => setFile(\"\")}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"avatar-modal-bottom-container\">\r\n                      <form\r\n                        className=\"avatar-modal-bottom\"\r\n                        onSubmit={handleCoverUpdate}\r\n                        encType=\"multipart/form-data\"\r\n                      >\r\n                        <div className=\"avatar-modal-options\">\r\n                          <label htmlFor=\"file\" className=\"avatar-modal-option\">\r\n                            <PermMedia className=\"file-icon\" />\r\n                            <span className=\"avatar-modal-option-text\">\r\n                              Select a new cover\r\n                            </span>\r\n                            <input\r\n                              style={{ display: \"none\" }}\r\n                              type=\"file\"\r\n                              id=\"file\"\r\n                              name=\"file\"\r\n                              accept=\".png,.jpeg,.jpg\"\r\n                              onChange={(e) => setFile(e.target.files[0])}\r\n                            />\r\n                          </label>\r\n                        </div>\r\n                        <button\r\n                          type=\"submit\"\r\n                          className={\r\n                            isInvalid\r\n                              ? \"save-button invalid-save-button\"\r\n                              : \"save-button\"\r\n                          }\r\n                          disabled={isInvalid}\r\n                        >\r\n                          save\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                  {sending ? (\r\n                    <div className=\"modal-background\"></div>\r\n                  ) : (\r\n                    <div\r\n                      className=\"modal-background\"\r\n                      onClick={() => setCoverModal(false)}\r\n                    ></div>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"avatar-modal-wrapper\">\r\n                  <div className=\"avatar-modal-container\">\r\n                    <Loader />\r\n                  </div>\r\n                  <div className=\"modal-background\"></div>\r\n                </div>\r\n              ))}\r\n            {/* PROFILE */}\r\n            <div className=\"profile-right-top\">\r\n              <div className=\"profile-cover\">\r\n                <div className=\"cover-img-container\">\r\n                  <img\r\n                    className=\"profile-cover-img\"\r\n                    src={\r\n                      profileUser.cover\r\n                        ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                          profileUser.cover\r\n                        : cover\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                  {username === currentUser.username && (\r\n                    <div\r\n                      className=\"edit-icon-container\"\r\n                      title=\"update cover image\"\r\n                      onClick={() => setCoverModal(true)}\r\n                    >\r\n                      <Edit className=\"edit-icon\" />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {username === currentUser.username ? (\r\n                  <div\r\n                    className=\"profile-img-container\"\r\n                    onClick={() => setAvatarModal(true)}\r\n                  >\r\n                    <div className=\"plus-sign-container\" title=\"update avatar\">\r\n                      <img\r\n                        className=\"profile-avatar-plus\"\r\n                        src={plusSign}\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <img\r\n                      className=\"profile-avatar\"\r\n                      src={\r\n                        profileUser.avatar\r\n                          ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                            profileUser.avatar\r\n                          : noAvi\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"profile-img-container\">\r\n                    <img\r\n                      className=\"profile-avatar\"\r\n                      src={\r\n                        profileUser.avatar\r\n                          ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                            profileUser.avatar\r\n                          : noAvi\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"profile-right-bottom\">\r\n              <CenterFeed\r\n                profileUser={profileUser}\r\n                feed={feed}\r\n                fetchNotifications={fetchNotifications}\r\n                loading={loading}\r\n                posts={posts}\r\n                images={images}\r\n                friends={friends}\r\n                handleFollowingStatus={handleFollowingStatus}\r\n                sidebarOpen={sidebarOpen}\r\n                loadNewUser={loadNewUser}\r\n                getInitialPosts={getInitialPosts}\r\n                getInitialFollows={getInitialFollows}\r\n                getInitialImages={getInitialImages}\r\n                setToInfo={setToInfo}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAADWCAYAAACt43wuAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA3LTA1VDExOjI0OjQxLTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNy0wNVQxMTozOTowNS0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNy0wNVQxMTozOTowNS0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNGFkMDdhYS1jYzBiLTM5NDItYjAzYy1hMTFmODFjN2ZkYTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyNWNiZTk3ZC1hODIxLTViNGItYWExOC03NzBiYmYyZGU1NmYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYmIxZmUyZi1lNWFhLThlNDMtYjRlNi01OTI0MWNlNDVjZDMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmFiYjFmZTJmLWU1YWEtOGU0My1iNGU2LTU5MjQxY2U0NWNkMyIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0wNVQxMToyNDo0MS0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0YWQwN2FhLWNjMGItMzk0Mi1iMDNjLWExMWY4MWM3ZmRhNSIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0wNVQxMTozOTowNS0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqD0V30AAAqISURBVHic7d3tcdvGGobhW2fyP3AHVAd0BaIriFxBqAoiVWC7AskViK7ASgWhKzA7EDswUoHOj6WOlROLInb3xYd5XzMezZDE7isLD3exBIGTh4cHJNX1n6ELkH5GBksKYLCkAAZLCmCw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\"","import { useEffect, useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport Follower from \"../follower/Follower\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport \"./FollowFeed.scss\";\r\n\r\nexport default function FollowFeed({\r\n  currentPage,\r\n  setCurrentPage,\r\n  follow,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [friends, setFriends] = useState([]);\r\n  const [skip, setSkip] = useState(0);\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n\r\n  // set current page on load\r\n  useEffect(() => {\r\n    setCurrentPage(follow);\r\n  });\r\n\r\n  const handleFollowingStatus = async (followed, userInQuestion) => {\r\n    try {\r\n      if (followed) {\r\n        await axios.put(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/unfollow`,\r\n          {\r\n            userId: currentUser._id,\r\n          }\r\n        );\r\n        dispatch({ type: \"UNFOLLOW\", payload: userInQuestion._id });\r\n        // delete follow notification\r\n        try {\r\n          axios.delete(\r\n            \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n            // \"http://localhost:3000/api/notifications/\",\r\n            {\r\n              data: {\r\n                sender: currentUser._id,\r\n                recipient: userInQuestion._id,\r\n                postId: null,\r\n                commentId: null,\r\n                type: \"follow\",\r\n              },\r\n            }\r\n          );\r\n        } catch (err) {}\r\n      } else {\r\n        await axios.put(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/follow`,\r\n          {\r\n            userId: currentUser._id,\r\n          }\r\n        );\r\n        dispatch({ type: \"FOLLOW\", payload: userInQuestion._id });\r\n        // send follow notification\r\n        try {\r\n          axios.post(\r\n            \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n            // \"http://localhost:3000/api/notifications/\",\r\n            {\r\n              sender: currentUser._id,\r\n              recipient: userInQuestion._id,\r\n              postId: null,\r\n              commentId: null,\r\n              type: \"follow\",\r\n              seen: false,\r\n            }\r\n          );\r\n        } catch (err) {}\r\n      }\r\n    } catch (err) {}\r\n  };\r\n\r\n  // update page on infinite scroll\r\n  useEffect(() => {\r\n    const getFollows = async () => {\r\n      try {\r\n        const friendsList = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/${currentUser._id}/${follow}/${skip}`\r\n          // `http://localhost:3000/api/users/${currentUser._id}/${follow}/${skip}`\r\n        );\r\n        setFriends([...friends, ...friendsList.data]);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getFollows();\r\n  }, [skip]);\r\n\r\n  // update page on new follow\r\n  useEffect(() => {\r\n    const getFollows = async () => {\r\n      try {\r\n        const friendsList = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/${currentUser._id}/${follow}/0`\r\n          // `http://localhost:3000/api/users/${currentUser._id}/${follow}/0`\r\n        );\r\n        setFriends(friendsList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getFollows();\r\n  }, [currentUser, currentPage]);\r\n\r\n  // infinite scroll functionality\r\n  const handleScroll = (e) => {\r\n    const { offsetHeight, scrollTop, scrollHeight } = e.target;\r\n\r\n    if (offsetHeight + scrollTop > scrollHeight * 0.95) {\r\n      setSkip(friends.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"followfeed\"\r\n      onScroll={handleScroll}\r\n      onClick={() => setSidebarOpen(false)}\r\n    >\r\n      {loading ? (\r\n        <Loader type={\"full-screen\"} />\r\n      ) : (\r\n        <div className=\"followfeed-wrapper\">\r\n          {friends.length > 0 ? (\r\n            <>\r\n              {friends.map((friend) => (\r\n                <Follower\r\n                  friend={friend}\r\n                  handleFollowingStatus={handleFollowingStatus}\r\n                  sidebarOpen={sidebarOpen}\r\n                />\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {follow === \"Following\" ? (\r\n                <span className=\"no-explore-message\">\r\n                  Find users to follow in the Explore tab!\r\n                </span>\r\n              ) : (\r\n                <span className=\"no-explore-message\">No followers yet!</span>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Follows.scss\";\r\nimport FollowFeed from \"../../components/followFeed/FollowFeed\";\r\nimport Nav from \"../../components/nav/Nav\";\r\n\r\nexport default function Followers({\r\n  currentPage,\r\n  setCurrentPage,\r\n  follow,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  return (\r\n    <div className=\"container\" id=\"container\">\r\n      <Nav\r\n        currentPage={currentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n      <FollowFeed\r\n        follow={follow}\r\n        currentPage={currentPage}\r\n        setCurrentPage={setCurrentPage}\r\n        setSidebarOpen={setSidebarOpen}\r\n        sidebarOpen={sidebarOpen}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Loader from \"../loader/Loader\";\r\nimport Post from \"../post/Post\";\r\n\r\nexport default function PostPage({\r\n  post,\r\n  fetchNotifications,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      setLoading(false);\r\n    }\r\n  }, [post]);\r\n\r\n  return (\r\n    <div\r\n      className=\"timeline\"\r\n      onClick={() => {\r\n        setSidebarOpen(false);\r\n      }}\r\n    >\r\n      <>\r\n        {loading ? (\r\n          <Loader type={\"full-screen\"} />\r\n        ) : (\r\n          <div>\r\n            <div className=\"timeline-wrapper\">\r\n              <Post\r\n                key={post._id}\r\n                post={post}\r\n                page=\"postPage\"\r\n                fetchNotifications={fetchNotifications}\r\n                sidebarOpen={sidebarOpen}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport PostPage from \"../../components/postPage/PostPage\";\r\nimport Nav from \"../../components/nav/Nav\";\r\nimport \"./Post.scss\";\r\n\r\nexport default function Post({\r\n  user,\r\n  currentPage,\r\n  setCurrentPage,\r\n  fetchNotifications,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const postId = useParams().postId;\r\n  const [post, setPost] = useState(\"\");\r\n\r\n  // set current page to\"Post on load\r\n  useEffect(() => {\r\n    setCurrentPage(\"Post\");\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/${postId}`\r\n        // `http://localhost:3000/api/posts/${postId}`\r\n      );\r\n      setPost(res.data);\r\n    };\r\n    fetchPost();\r\n  }, [postId]);\r\n\r\n  return (\r\n    <div className=\"container\" id=\"container\">\r\n      <Nav\r\n        user={user}\r\n        currentPage={currentPage}\r\n        post={post}\r\n        setSidebarOpen={setSidebarOpen}\r\n        sidebarOpen={sidebarOpen}\r\n      />\r\n      <PostPage\r\n        user={user}\r\n        post={post}\r\n        fetchNotifications={fetchNotifications}\r\n        setSidebarOpen={setSidebarOpen}\r\n        sidebarOpen={sidebarOpen}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/wordmark.eff11fb7.png\";","import { React, useState, useContext, useRef } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n// import { useForm } from \"react-hook-form\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport \"./Login.scss\";\r\n// import { loginCall } from \"../../apiCalls\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport wordmark from \"../../assets/wordmark.png\";\r\n\r\nexport default function Login() {\r\n  // const { register, handleSubmit } = useForm();\r\n  const [loginErr, setLoginErr] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // const onSubmit = async (data) => {\r\n  //   setLoading(true);\r\n  //   const formData = JSON.stringify(data);\r\n  //   try {\r\n  //     const req = await fetch(\r\n  //       \"https://radiant-oasis-77477.herokuapp.com/api/auth/login\",\r\n  //       {\r\n  //         method: \"POST\",\r\n  //         body: formData,\r\n  //         headers: {\r\n  //           Accept: \"application/json\",\r\n  //           \"Content-Type\": \"application/json\",\r\n  //         },\r\n  //       }\r\n  //     );\r\n  //     const myJson = await req.json();\r\n  //     if (req.status !== 200) {\r\n  //       setLoginErr(true);\r\n  //       setLoading(false);\r\n  //       return;\r\n  //     }\r\n  //     localStorage.setItem(\"token\", myJson.token);\r\n  //     localStorage.setItem(\"userAuth\", true);\r\n  //     setUserAuth(true);\r\n  //     navigate(\"/\", { replace: true });\r\n  //   } catch (err) {\r\n  //     setLoginErr(true);\r\n  //     setLoading(false);\r\n  //   }\r\n  // };\r\n  let navigate = useNavigate();\r\n  const usermail = useRef();\r\n  const password = useRef();\r\n  const { isFetching, dispatch } = useContext(AuthContext);\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      dispatch({ type: \"LOGIN_START\" });\r\n      try {\r\n        const res = await axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/auth/login\",\r\n          { usermail: usermail.current.value, password: password.current.value }\r\n        );\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n        setLoading(false);\r\n        navigate(\"/\", { replace: true });\r\n      } catch (err) {\r\n        setLoginErr(true);\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n        setLoading(false);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Loader type={\"full-screen\"} />\r\n      ) : (\r\n        <div className=\"login-container\">\r\n          <div className=\"login-left\">\r\n            {/* <span className=\"login-left-title\">nodebook</span> */}\r\n            <div className=\"glow\"></div>\r\n            <img className=\"wordmark\" src={wordmark} alt=\"\" />\r\n          </div>\r\n          <div className=\"login-right\">\r\n            <div className=\"login-form\">\r\n              <form onSubmit={handleClick}>\r\n                <div>\r\n                  <input\r\n                    className=\"form-input\"\r\n                    type=\"text\"\r\n                    placeholder=\"Username or email\"\r\n                    // {...register(\"usermail\", { required: true })}\r\n                    ref={usermail}\r\n                    required\r\n                  ></input>\r\n                </div>\r\n\r\n                <div>\r\n                  <input\r\n                    className=\"form-input\"\r\n                    placeholder=\"Password\"\r\n                    type=\"password\"\r\n                    // {...register(\"password\", { required: true })}\r\n                    ref={password}\r\n                    required\r\n                  ></input>\r\n                </div>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  // onClick={((e) => e.preventDefault(), handleSubmit(onSubmit))}\r\n                  disabled={isFetching}\r\n                >\r\n                  {isFetching ? (\r\n                    <CircularProgress color=\"white\" size=\"20px\" />\r\n                  ) : (\r\n                    \"Login\"\r\n                  )}\r\n                </button>\r\n              </form>\r\n            </div>\r\n            <div className=\"login-sub-container\">\r\n              <p className=\"dont-have-an-account\">\r\n                Don't have an account?\r\n                <Link to=\"/signup\"> Sign-up</Link>\r\n              </p>\r\n              {loginErr && (\r\n                <span className=\"error-span\">\r\n                  Username or password incorrect\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { React, useRef } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n// import { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport wordmark from \"../../assets/wordmark.png\";\r\nimport \"./Login.scss\";\r\n\r\nexport default function Signup({ setUserAuth }) {\r\n  // const { register, handleSubmit } = useForm();\r\n  // const [loginErr, setLoginErr] = useState(false);\r\n  let navigate = useNavigate();\r\n\r\n  const firstname = useRef();\r\n  const lastname = useRef();\r\n  const username = useRef();\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const confirmPassword = useRef();\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    if (confirmPassword.current.value !== password.current.value) {\r\n      confirmPassword.current.setCustomValidity(\"Passwords don't match!\");\r\n    } else {\r\n      const user = {\r\n        firstname: firstname.current.value,\r\n        lastname: lastname.current.value,\r\n        username: username.current.value,\r\n        email: email.current.value,\r\n        password: password.current.value,\r\n      };\r\n      try {\r\n        await axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/auth/register\",\r\n          user\r\n        );\r\n        navigate(\"/login\", { replace: true });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  // const onSubmit = async (data) => {\r\n  //   const formData = JSON.stringify(data);\r\n  //   try {\r\n  //     const req = await fetch(\r\n  //       \"https://radiant-oasis-77477.herokuapp.com/api/sign-up\",\r\n  //       {\r\n  //         method: \"POST\",\r\n  //         body: formData,\r\n  //         headers: {\r\n  //           Accept: \"application/json\",\r\n  //           \"Content-Type\": \"application/json\",\r\n  //         },\r\n  //       }\r\n  //     );\r\n  //     const myJson = await req.json();\r\n  //     if (req.status !== 200) {\r\n  //       setLoginErr(true);\r\n  //       return;\r\n  //     }\r\n  //     localStorage.setItem(\"token\", myJson.token);\r\n  //     localStorage.setItem(\"userAuth\", true);\r\n  //     setUserAuth(true);\r\n  //     navigate(\"/\", { replace: true });\r\n  //   } catch (err) {\r\n  //     setLoginErr(true);\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-left\">\r\n        {/* <span className=\"login-left-title\">nodebook</span> */}\r\n        <div className=\"glow\"></div>\r\n        <img className=\"wordmark\" src={wordmark} alt=\"\" />\r\n      </div>\r\n      <div className=\"login-right\">\r\n        <div className=\"login-form\">\r\n          <form onSubmit={handleClick}>\r\n            {/* first name */}\r\n            <div>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"text\"\r\n                placeholder=\"First name\"\r\n                ref={firstname}\r\n                // {...register(\"firstname\", { required: true })}\r\n              ></input>\r\n            </div>\r\n            {/* last name */}\r\n            <div>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"text\"\r\n                placeholder=\"Last name\"\r\n                ref={lastname}\r\n                // {...register(\"lastname\", { required: true })}\r\n              ></input>\r\n            </div>\r\n            {/* username */}\r\n            <div>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                ref={username}\r\n                // {...register(\"username\", { required: true })}\r\n              ></input>\r\n            </div>\r\n            {/* email */}\r\n            <div>\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"email\"\r\n                placeholder=\"Email address\"\r\n                ref={email}\r\n                // {...register(\"email\", { required: true })}\r\n              ></input>\r\n            </div>\r\n            {/* password */}\r\n            <div>\r\n              <input\r\n                className=\"form-input\"\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                ref={password}\r\n                // {...register(\"password\", { required: true })}\r\n              ></input>\r\n            </div>\r\n            {/* confirm password */}\r\n            <div>\r\n              <input\r\n                className=\"form-input\"\r\n                placeholder=\"Confirm password\"\r\n                type=\"password\"\r\n                ref={confirmPassword}\r\n                // {...register(\"confirm-password\", { required: true })}\r\n              ></input>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              // onClick={((e) => e.preventDefault(), handleSubmit(onSubmit))}\r\n            >\r\n              Sign up\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div className=\"login-sub-container\">\r\n          <p className=\"dont-have-an-account\">\r\n            Already have an account?\r\n            <Link to=\"/login\"> Login</Link>\r\n          </p>\r\n          {/* {loginErr && <span className=\"error-span\">Error, try again</span>} */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const loginCall = async (userCredential, dispatch) => {\r\n  dispatch({ type: \"LOGIN_START\" });\r\n  try {\r\n    const res = await axios.post(\r\n      \"https://radiant-oasis-77477.herokuapp.com/api/auth/login\",\r\n      userCredential\r\n    );\r\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n  } catch (err) {\r\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n  }\r\n};\r\n\r\nexport const logoutCall = async (dispatch) => {\r\n  dispatch({ type: \"LOGOUT\", payload: null });\r\n};\r\n","import React, { useRef, useContext, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./UpdateUser.scss\";\r\nimport axios from \"axios\";\r\nimport { logoutCall } from \"../../apiCalls\";\r\n\r\nexport default function UpdateUser() {\r\n  let firstname = useRef();\r\n  let lastname = useRef();\r\n  let username = useRef();\r\n  let email = useRef();\r\n  let about = useRef();\r\n  let location = useRef();\r\n  let website = useRef();\r\n  let birthday = useRef();\r\n  let navigate = useNavigate();\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n  const [user, setUser] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  // gets up to date user info\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users?username=${currentUser.username}`\r\n        );\r\n        setUser(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, []);\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const updatedUser = {\r\n      firstname: firstname.current.value,\r\n      lastname: lastname.current.value,\r\n      username: username.current.value,\r\n      email: email.current.value,\r\n      about: about.current.value,\r\n      location: location.current.value,\r\n      website: website.current.value,\r\n      birthday: birthday.current.value,\r\n      userId: user._id,\r\n    };\r\n    try {\r\n      await axios.put(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users/${user._id}`,\r\n        updatedUser\r\n      );\r\n      setError(false);\r\n      setErrorMsg(\"\");\r\n      if (currentUser.username === username.current.value) {\r\n        // if the username did not change, navigate to the timeline\r\n        navigate(\"/\", { replace: true });\r\n      } else {\r\n        // if the username did change, navigate to the login page\r\n        alert(`You're new username is ${username.current.value}`);\r\n        localStorage.clear();\r\n        logoutCall(dispatch);\r\n        navigate(\"/login\", { replace: true });\r\n      }\r\n    } catch (err) {\r\n      console.log(err.response.data.msg);\r\n      setError(true);\r\n      setErrorMsg(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"update-user-page\">\r\n      <div className=\"update-form\">\r\n        <form onSubmit={handleClick}>\r\n          {/* first name */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"firstname\" className=\"update-label\">\r\n              First name:\r\n            </label>\r\n            <input\r\n              className=\"update-form-input\"\r\n              type=\"text\"\r\n              placeholder=\"First name\"\r\n              ref={firstname}\r\n              defaultValue={user.firstname ? user.firstname : null}\r\n              // {...register(\"firstname\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {/* last name */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"lastname\" className=\"update-label\">\r\n              Last name:\r\n            </label>\r\n            <input\r\n              className=\"update-form-input\"\r\n              type=\"text\"\r\n              placeholder=\"Last name\"\r\n              ref={lastname}\r\n              defaultValue={user.lastname ? user.lastname : null}\r\n              // {...register(\"lastname\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {/* username */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"username\" className=\"update-label\">\r\n              Username:\r\n            </label>\r\n            <input\r\n              className=\"update-form-input\"\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              ref={username}\r\n              defaultValue={user.username ? user.username : null}\r\n              // {...register(\"username\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {/* email */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"email\" className=\"update-label\">\r\n              Email:\r\n            </label>\r\n            <input\r\n              className=\"update-form-input\"\r\n              type=\"email\"\r\n              placeholder=\"Email address\"\r\n              ref={email}\r\n              defaultValue={user.email ? user.email : null}\r\n              // {...register(\"email\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {/* Bio */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"bio\" className=\"update-label\">\r\n              Bio:\r\n            </label>\r\n            <textarea\r\n              className=\"update-form-textarea\"\r\n              placeholder=\"About\"\r\n              type=\"text\"\r\n              ref={about}\r\n              defaultValue={user.about ? user.about : null}\r\n              // {...register(\"password\", { required: true })}\r\n            ></textarea>\r\n          </div>\r\n          {/* Location */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"location\" className=\"update-label\">\r\n              Location:\r\n            </label>\r\n            <input\r\n              className=\"update-form-input\"\r\n              placeholder=\"Location\"\r\n              type=\"text\"\r\n              ref={location}\r\n              defaultValue={user.location ? user.location : null}\r\n              // {...register(\"password\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {/* Website */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"website\" className=\"update-label\">\r\n              Website:\r\n            </label>\r\n            <input\r\n              className=\"update-form-input\"\r\n              placeholder=\"Website\"\r\n              type=\"text\"\r\n              ref={website}\r\n              defaultValue={user.website ? user.website : null}\r\n              // {...register(\"confirm-password\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {/* birthday */}\r\n          <div className=\"update-item-div\">\r\n            <label htmlFor=\"birthday\" className=\"update-label\">\r\n              Birthday:\r\n            </label>\r\n            <input\r\n              className=\"update-form-input\"\r\n              placeholder=\"Website\"\r\n              type=\"date\"\r\n              ref={birthday}\r\n              defaultValue={user.birthday ? user.birthday : null}\r\n              // {...register(\"confirm-password\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          <div className=\"message-before-update-button\">\r\n            <span>\r\n              <span className=\"info-icon\">ⓘ</span> If you are changing your\r\n              username you will be logged out after updating\r\n            </span>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"error-msg\">\r\n              <span>{errorMsg}</span>\r\n            </div>\r\n          )}\r\n          <button type=\"submit\">Update</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport UpdateUser from \"../../components/updateUser/UpdateUser\";\r\nimport Nav from \"../../components/nav/Nav\";\r\n\r\nexport default function Update({\r\n  user,\r\n  currentPage,\r\n  setCurrentPage,\r\n  updateType,\r\n}) {\r\n  setCurrentPage(\"Update\");\r\n  return (\r\n    <div className=\"container\" id=\"container\">\r\n      <Nav user={user} currentPage={currentPage} />\r\n      {updateType === \"user\" && <UpdateUser user={user} />}\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Liker.scss\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport Loader from \"../../loader/Loader\";\r\nimport noAvi from \"../../../assets/noAvatar.png\";\r\n\r\nexport default function Liker({ liker, handleFollowingStatus, sidebarOpen }) {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const [followStatus, setFollowStatus] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkFollowStatus = async () => {\r\n      setTimeout(async function () {\r\n        if (liker._id === (await currentUser._id)) {\r\n          setFollowStatus(\"you\");\r\n        } else if (\r\n          liker.followingStatus === true &&\r\n          liker.followerStatus === true\r\n        ) {\r\n          setFollowStatus(\"mutual following\");\r\n        } else if (\r\n          liker.followingStatus === false &&\r\n          liker.followerStatus === true\r\n        ) {\r\n          setFollowStatus(\"follows you\");\r\n        } else if (\r\n          liker.followingStatus === true &&\r\n          liker.followerStatus === false\r\n        ) {\r\n          setFollowStatus(\"doesn't follow you\");\r\n        }\r\n        setLoading(false);\r\n      }, 1000);\r\n    };\r\n    checkFollowStatus();\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        followStatus !== \"you\"\r\n          ? \"follow-container\"\r\n          : \"follow-container current-user-container\"\r\n      }\r\n      key={liker._id}\r\n    >\r\n      {loading ? (\r\n        <Loader type={\"follower\"} />\r\n      ) : (\r\n        <>\r\n          <Link\r\n            to={\"/profile/\" + liker.username}\r\n            style={{ textDecoration: \"none\" }}\r\n          >\r\n            <div className=\"follow-container-left\">\r\n              <img\r\n                src={\r\n                  liker.avatar\r\n                    ? \"https://nodebook-images.s3.amazonaws.com/\" + liker.avatar\r\n                    : noAvi\r\n                }\r\n                alt=\"\"\r\n                className=\"follow-img\"\r\n              />\r\n              <div className=\"follow-user-info\">\r\n                <span className=\"follow-username\">{liker.username}</span>\r\n                <span className=\"follow-name\">\r\n                  {liker.firstname} {liker.lastname}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n          {/* follow unfollow button */}\r\n          {followStatus !== \"you\" && (\r\n            <div className=\"follow-container-right\">\r\n              <span className=\"follow-status-span\">{followStatus}</span>\r\n              <button\r\n                disabled={sidebarOpen}\r\n                className=\"follow-button\"\r\n                onClick={() =>\r\n                  handleFollowingStatus(liker.followingStatus, liker)\r\n                }\r\n              >\r\n                {liker.followingStatus ? \"Unfollow\" : \"Follow\"}\r\n                {liker.followingStatus ? <Remove /> : <Add />}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport Liker from \"./liker/Liker\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport { format } from \"timeago.js\";\r\nimport noAvi from \"../../assets/noAvatar.png\";\r\nimport \"./LikesFeed.scss\";\r\n\r\nexport default function LikesFeed({\r\n  setCurrentPage,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n  post,\r\n}) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [likers, setLikers] = useState([]);\r\n  const [skip, setSkip] = useState(0);\r\n  const [user, setUser] = useState({});\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n\r\n  // set current page to \"Likes\" on load\r\n  useEffect(() => {\r\n    setCurrentPage(\"Likes\");\r\n  });\r\n\r\n  // get user\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users?userId=${post.userId}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [post.userId]);\r\n\r\n  const handleFollowingStatus = async (followed, userInQuestion) => {\r\n    const updateFollow = async () => {\r\n      try {\r\n        if (followed) {\r\n          await axios.put(\r\n            `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/unfollow`,\r\n            {\r\n              userId: currentUser._id,\r\n            }\r\n          );\r\n          dispatch({ type: \"UNFOLLOW\", payload: userInQuestion._id });\r\n          // delete follow notification\r\n          try {\r\n            axios.delete(\r\n              \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n              // \"http://localhost:3000/api/notifications/\",\r\n              {\r\n                data: {\r\n                  sender: currentUser._id,\r\n                  recipient: userInQuestion._id,\r\n                  postId: null,\r\n                  commentId: null,\r\n                  type: \"follow\",\r\n                },\r\n              }\r\n            );\r\n          } catch (err) {}\r\n        } else {\r\n          await axios.put(\r\n            `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/follow`,\r\n            {\r\n              userId: currentUser._id,\r\n            }\r\n          );\r\n          dispatch({ type: \"FOLLOW\", payload: userInQuestion._id });\r\n          // send follow notification\r\n          try {\r\n            axios.post(\r\n              \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n              // \"http://localhost:3000/api/notifications/\",\r\n              {\r\n                sender: currentUser._id,\r\n                recipient: userInQuestion._id,\r\n                postId: null,\r\n                commentId: null,\r\n                type: \"follow\",\r\n                seen: false,\r\n              }\r\n            );\r\n          } catch (err) {}\r\n        }\r\n      } catch (err) {}\r\n    };\r\n\r\n    updateFollow();\r\n  };\r\n\r\n  // update page on infinite scroll\r\n  useEffect(() => {\r\n    const getLikers = async () => {\r\n      try {\r\n        const likerList = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/posts/${post._id}/likers/${skip}/${currentUser._id}`\r\n          // `http://localhost:3000/api/posts/${post._id}/likers/${skip}/${currentUser._id}`\r\n        );\r\n        setLikers([...likers, ...likerList.data]);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    if (post) {\r\n      getLikers();\r\n    }\r\n  }, [skip]);\r\n\r\n  // update page on new follow\r\n  useEffect(() => {\r\n    const getLikers = async () => {\r\n      try {\r\n        const likerList = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/posts/${post._id}/likers/0/${currentUser._id}`\r\n          // `http://localhost:3000/api/posts/${post._id}/likers/0/${currentUser._id}`\r\n        );\r\n        setLikers(likerList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    if (post) {\r\n      getLikers();\r\n    }\r\n  }, [currentUser, post]);\r\n\r\n  // infinite scroll functionality\r\n  const handleScroll = (e) => {\r\n    const { offsetHeight, scrollTop, scrollHeight } = e.target;\r\n\r\n    if (offsetHeight + scrollTop > scrollHeight * 0.95) {\r\n      setSkip(likers.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"followfeed\"\r\n      onScroll={handleScroll}\r\n      onClick={() => setSidebarOpen(false)}\r\n    >\r\n      {loading ? (\r\n        <Loader type={\"full-screen\"} />\r\n      ) : (\r\n        <div className=\"likers-feed\">\r\n          <div className=\"likesFeed-post-container\">\r\n            <div className=\"likesFeed-post-upper\">\r\n              <div className=\"likesFeed-post-top\">\r\n                <Link to={`/profile/${user.username}`}>\r\n                  <img\r\n                    className=\"likesFeed-post-avatar\"\r\n                    src={\r\n                      user.avatar\r\n                        ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                          user.avatar\r\n                        : noAvi\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                </Link>\r\n                <div className=\"post-top-center\">\r\n                  <div className=\"post-info\">\r\n                    <span className=\"likesFeed-post-username\">\r\n                      {user.username}\r\n                    </span>\r\n                    <span className=\"likesFeed-post-date\">\r\n                      {format(post.createdAt)}\r\n                    </span>\r\n                  </div>\r\n                  <span className=\"likesFeed-post-body\">{post?.body}</span>\r\n                  {post.edited && (\r\n                    <span className=\"likesFeed-post-edit\">\r\n                      edit: {format(post.editedtimestamp)}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Post content */}\r\n              <div className=\"likesFeed-post-center\">\r\n                {post.img && (\r\n                  <div className=\"likesFeed-post-img-wrapper\">\r\n                    <div className=\"likesFeed-post-img-container\">\r\n                      <img\r\n                        className=\"likesFeed-post-img\"\r\n                        src={\r\n                          \"https://nodebook-images.s3.amazonaws.com/\" + post.img\r\n                        }\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"followfeed-wrapper\">\r\n            {likers.length > 0 ? (\r\n              <>\r\n                {likers.map((liker) => (\r\n                  <Liker\r\n                    liker={liker}\r\n                    handleFollowingStatus={handleFollowingStatus}\r\n                    key={liker._id}\r\n                    sidebarOpen={sidebarOpen}\r\n                  />\r\n                ))}\r\n              </>\r\n            ) : (\r\n              <span className=\"no-explore-message\">No likes yet</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport LikesFeed from \"../../components/likesFeed/LikesFeed\";\r\nimport Nav from \"../../components/nav/Nav\";\r\nimport { useParams } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport \"../follows/Follows.scss\";\r\n\r\nexport default function Followers({\r\n  currentPage,\r\n  setCurrentPage,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const postId = useParams().postId;\r\n  const [post, setPost] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/posts/${postId}`\r\n        // `http://localhost:3000/api/posts/${postId}`\r\n      );\r\n      setPost(res.data);\r\n    };\r\n    fetchPost();\r\n  }, [postId]);\r\n\r\n  return (\r\n    <div className=\"container\" id=\"container\">\r\n      <Nav\r\n        currentPage={currentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n        post={post}\r\n      />\r\n      <LikesFeed\r\n        setCurrentPage={setCurrentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n        post={post}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./ExploreUser.scss\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport Loader from \"../../loader/Loader\";\r\nimport noAvi from \"../../../assets/noAvatar.png\";\r\n\r\nexport default function Follower({\r\n  friend,\r\n  handleFollowingStatus,\r\n  sidebarOpen,\r\n}) {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const [followStatus, setFollowStatus] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkFollowStatus = async () => {\r\n      setTimeout(async function () {\r\n        if (friend._id === (await currentUser._id)) {\r\n          setFollowStatus(\"you\");\r\n        } else if (\r\n          friend.followingStatus === true &&\r\n          friend.followerStatus === true\r\n        ) {\r\n          setFollowStatus(\"mutual following\");\r\n        } else if (\r\n          friend.followingStatus === false &&\r\n          friend.followerStatus === true\r\n        ) {\r\n          setFollowStatus(\"follows you\");\r\n        } else if (\r\n          friend.followingStatus === true &&\r\n          friend.followerStatus === false\r\n        ) {\r\n          setFollowStatus(\"doesn't follow you\");\r\n        }\r\n        setLoading(false);\r\n      }, 1000);\r\n    };\r\n    checkFollowStatus();\r\n  });\r\n\r\n  return (\r\n    <div className=\"follow-container\" key={friend._id}>\r\n      {loading ? (\r\n        <Loader type={\"follower\"} />\r\n      ) : (\r\n        <>\r\n          <Link\r\n            to={\"/profile/\" + friend.username}\r\n            style={{ textDecoration: \"none\" }}\r\n          >\r\n            <div className=\"follow-container-left\">\r\n              <img\r\n                src={\r\n                  friend.avatar\r\n                    ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                      friend.avatar\r\n                    : noAvi\r\n                }\r\n                alt=\"\"\r\n                className=\"follow-img\"\r\n              />\r\n              <div className=\"follow-user-info\">\r\n                <span className=\"follow-username\">{friend.username}</span>\r\n                <span className=\"follow-name\">\r\n                  {friend.firstname} {friend.lastname}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n          {/* follow unfollow button */}\r\n          {followStatus !== \"you\" && (\r\n            <div className=\"follow-container-right\">\r\n              <span className=\"follow-status-span\">{followStatus}</span>\r\n              <button\r\n                disabled={sidebarOpen}\r\n                className=\"follow-button\"\r\n                onClick={() =>\r\n                  handleFollowingStatus(friend.followingStatus, friend)\r\n                }\r\n              >\r\n                {friend.followingStatus ? \"Unfollow\" : \"Follow\"}\r\n                {friend.followingStatus ? <Remove /> : <Add />}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport ExploreUser from \"./exploreUser/ExploreUser\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport \"./ExploreFeed.scss\";\r\n\r\nexport default function ExploreFeed({\r\n  setCurrentPage,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [friends, setFriends] = useState([]);\r\n  const [skip, setSkip] = useState(0);\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n\r\n  // set current page to \"Explore\" on load\r\n  useEffect(() => {\r\n    setCurrentPage(\"Explore\");\r\n  });\r\n\r\n  const handleFollowingStatus = async (followed, userInQuestion) => {\r\n    const updateFollow = async () => {\r\n      try {\r\n        if (followed) {\r\n          await axios.put(\r\n            `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/unfollow`,\r\n            {\r\n              userId: currentUser._id,\r\n            }\r\n          );\r\n          dispatch({ type: \"UNFOLLOW\", payload: userInQuestion._id });\r\n          // delete follow notification\r\n          try {\r\n            axios.delete(\r\n              \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n              // \"http://localhost:3000/api/notifications/\",\r\n              {\r\n                data: {\r\n                  sender: currentUser._id,\r\n                  recipient: userInQuestion._id,\r\n                  postId: null,\r\n                  commentId: null,\r\n                  type: \"follow\",\r\n                },\r\n              }\r\n            );\r\n          } catch (err) {}\r\n        } else {\r\n          await axios.put(\r\n            `https://radiant-oasis-77477.herokuapp.com/api/users/${userInQuestion._id}/follow`,\r\n            {\r\n              userId: currentUser._id,\r\n            }\r\n          );\r\n          dispatch({ type: \"FOLLOW\", payload: userInQuestion._id });\r\n          // send follow notification\r\n          try {\r\n            axios.post(\r\n              \"https://radiant-oasis-77477.herokuapp.com/api/notifications/\",\r\n              // \"http://localhost:3000/api/notifications/\",\r\n              {\r\n                sender: currentUser._id,\r\n                recipient: userInQuestion._id,\r\n                postId: null,\r\n                commentId: null,\r\n                type: \"follow\",\r\n                seen: false,\r\n              }\r\n            );\r\n          } catch (err) {}\r\n        }\r\n      } catch (err) {}\r\n    };\r\n\r\n    updateFollow();\r\n  };\r\n\r\n  // update page on infinite scroll\r\n  useEffect(() => {\r\n    const getFollows = async () => {\r\n      try {\r\n        const exploreList = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/explore/${currentUser._id}/${skip}`\r\n          // `http://localhost:3000/api/users/explore/${currentUser._id}/${skip}`\r\n        );\r\n        setFriends([...friends, ...exploreList.data]);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getFollows();\r\n  }, [skip]);\r\n\r\n  // update page on new follow\r\n  useEffect(() => {\r\n    const getFollows = async () => {\r\n      try {\r\n        const exploreList = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/users/explore/${currentUser._id}/0`\r\n          // `http://localhost:3000/api/users/explore/${currentUser._id}/0`\r\n        );\r\n        setFriends(exploreList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getFollows();\r\n  }, [currentUser]);\r\n\r\n  // infinite scroll functionality\r\n  const handleScroll = (e) => {\r\n    const { offsetHeight, scrollTop, scrollHeight } = e.target;\r\n\r\n    if (offsetHeight + scrollTop > scrollHeight * 0.95) {\r\n      setSkip(friends.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"followfeed\"\r\n      onScroll={handleScroll}\r\n      onClick={() => setSidebarOpen(false)}\r\n    >\r\n      {loading ? (\r\n        <Loader type={\"full-screen\"} />\r\n      ) : (\r\n        <div className=\"followfeed-wrapper\">\r\n          {friends.length > 0 ? (\r\n            <>\r\n              {friends.map((friend) => (\r\n                <ExploreUser\r\n                  friend={friend}\r\n                  handleFollowingStatus={handleFollowingStatus}\r\n                  key={friend._id}\r\n                  sidebarOpen={sidebarOpen}\r\n                />\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <span className=\"no-explore-message\">No one new to see</span>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"../follows/Follows.scss\";\r\nimport ExploreFeed from \"../../components/exploreFeed/ExploreFeed\";\r\nimport Nav from \"../../components/nav/Nav\";\r\n\r\nexport default function Followers({\r\n  currentPage,\r\n  setCurrentPage,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  return (\r\n    <div className=\"container\" id=\"container\">\r\n      <Nav\r\n        currentPage={currentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n      <ExploreFeed\r\n        currentPage={currentPage}\r\n        setCurrentPage={setCurrentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport Loader from \"../../../components/loader/Loader\";\r\nimport {\r\n  FavoriteBorder,\r\n  MessageOutlined,\r\n  Check,\r\n  DeleteForeverOutlined,\r\n  AddAlertOutlined,\r\n  PersonAddOutlined,\r\n} from \"@material-ui/icons\";\r\nimport \"./Notification.scss\";\r\nimport noAvi from \"../../../assets/noAvatar.png\";\r\n\r\nexport default function Notification({\r\n  notification,\r\n  status,\r\n  getNotifications,\r\n}) {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const [user, setUser] = useState({});\r\n  const [content, setContent] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // get user\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users?userId=${notification.sender}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n\r\n    const fetchPost = async () => {\r\n      setTimeout(async function () {\r\n        let contentId;\r\n        let apiRoute;\r\n        let res;\r\n        if (notification.type === \"postLike\") {\r\n          contentId = notification.postId;\r\n          apiRoute = \"posts/\";\r\n        } else if (notification.type === \"commentLike\") {\r\n          contentId = notification.commentId;\r\n          apiRoute = \"comments/\";\r\n        } else if (notification.type === \"comment\") {\r\n          contentId = notification.commentId;\r\n          apiRoute = \"comments/\";\r\n        } else if (notification.type === \"follow\") {\r\n          contentId = notification.sender;\r\n          apiRoute = \"users?userId=\";\r\n        }\r\n        res = await axios.get(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/${apiRoute}${contentId}`\r\n          // `http://localhost:3000/api/${apiRoute}${contentId}`\r\n        );\r\n        setContent(res.data);\r\n        setLoading(false);\r\n      }, 1000);\r\n    };\r\n    fetchPost();\r\n  }, [currentUser]);\r\n\r\n  const handleMarkAsRead = async () => {\r\n    const getReadStatus = async () => {\r\n      try {\r\n        axios.put(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/notifications/${notification._id}`\r\n          // `http://localhost:3000/api/notifications/${notification._id}`\r\n        );\r\n      } catch (err) {}\r\n    };\r\n    await getReadStatus();\r\n    getNotifications();\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const deleteNotification = async () => {\r\n      try {\r\n        axios.delete(\r\n          `https://radiant-oasis-77477.herokuapp.com/api/notifications/${notification._id}`\r\n          // `http://localhost:3000/api/notifications/${notification._id}`\r\n        );\r\n      } catch (err) {}\r\n    };\r\n    await deleteNotification();\r\n    getNotifications();\r\n  };\r\n\r\n  const CommentLikeMsg = () => {\r\n    return (\r\n      <>\r\n        <span className=\"notification-message\">\r\n          liked your comment {format(notification.createdAt)}\r\n        </span>\r\n\r\n        <FavoriteBorder className=\"notification-icon like-icon\" />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const PostLikeMsg = () => {\r\n    return (\r\n      <>\r\n        <span className=\"notification-message\">\r\n          {\" \"}\r\n          liked your post {format(notification.createdAt)}\r\n        </span>\r\n\r\n        <FavoriteBorder className=\"notification-icon like-icon\" />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const CommentMsg = () => {\r\n    return (\r\n      <>\r\n        <span className=\"notification-message\">\r\n          {\" \"}\r\n          commented on your post {format(notification.createdAt)}\r\n        </span>\r\n\r\n        <MessageOutlined className=\"notification-icon message-icon\" />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const FollowMsg = () => {\r\n    return (\r\n      <>\r\n        <span className=\"notification-message\">\r\n          {\" \"}\r\n          followed you {format(notification.createdAt)}\r\n        </span>\r\n\r\n        <PersonAddOutlined className=\"notification-icon follow-icon\" />\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"notification-container\">\r\n      {loading ? (\r\n        <Loader type={\"notification\"} />\r\n      ) : (\r\n        <>\r\n          <Link\r\n            to={\r\n              notification.type === \"follow\"\r\n                ? `/profile/${user.username}`\r\n                : `/post/${notification.postId}`\r\n            }\r\n            className=\"notification-link\"\r\n          >\r\n            <div className=\"notification-wrapper\">\r\n              <div className=\"notification-top\">\r\n                <Link to={`/profile/${user.username}`}>\r\n                  <img\r\n                    className=\"notification-avatar\"\r\n                    src={\r\n                      user.avatar\r\n                        ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                          user.avatar\r\n                        : noAvi\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                </Link>\r\n                <div className=\"notification-desc\">\r\n                  <Link\r\n                    className=\"notification-username-link\"\r\n                    to={`/profile/${user.username}`}\r\n                  >\r\n                    <span className=\"notification-username\">\r\n                      {user.username !== currentUser.username\r\n                        ? user.username\r\n                        : \"You\"}\r\n                    </span>\r\n                  </Link>\r\n                  {notification.type === \"commentLike\" && <CommentLikeMsg />}\r\n                  {notification.type === \"postLike\" && <PostLikeMsg />}\r\n                  {notification.type === \"comment\" && <CommentMsg />}\r\n                  {notification.type === \"follow\" && <FollowMsg />}\r\n                </div>\r\n              </div>\r\n              {notification.type !== \"follow\" && (\r\n                <div className=\"content-body\">\r\n                  <span>{content.body}</span>\r\n                  {content.img && (\r\n                    <img\r\n                      className=\"notification-img\"\r\n                      src={\r\n                        \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                        content.img\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              )}\r\n              {notification.type === \"follow\" && (\r\n                <span className=\"content-follow\">View their profile</span>\r\n              )}\r\n            </div>\r\n          </Link>\r\n          <div className=\"notification-buttons-container\">\r\n            <button\r\n              className=\"notification-read-button\"\r\n              onClick={handleMarkAsRead}\r\n            >\r\n              {status === \"new\" ? (\r\n                <Check className=\"button-icon\" />\r\n              ) : (\r\n                <AddAlertOutlined className=\"button-icon\" />\r\n              )}\r\n            </button>\r\n            <button\r\n              className=\"notification-delete-button\"\r\n              onClick={handleDelete}\r\n            >\r\n              <DeleteForeverOutlined className=\"button-icon\" />\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./NotificationsFeed.scss\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport Notification from \"./notification/Notification\";\r\n\r\nexport default function NotificationsFeed({\r\n  fetchNotifications,\r\n  setCurrentPage,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [waitingOnLoad, setWaitingOnLoad] = useState(true);\r\n  const [seenNotifications, setSeenNotifications] = useState([]);\r\n  const [newNotifications, setNewNotifications] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  // set current page to \"Notifications\" on load\r\n  useEffect(() => {\r\n    setCurrentPage(\"Notifications\");\r\n  });\r\n\r\n  const getNotifications = async () => {\r\n    setTimeout(async function () {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/notifications/${user._id}`\r\n        // `http://localhost:3000/api/notifications/${user._id}`\r\n      );\r\n      let seenFilter = res.data.filter((noti) => {\r\n        return noti.seen === true;\r\n      });\r\n      setSeenNotifications(\r\n        seenFilter.sort((p1, p2) => {\r\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n        })\r\n      );\r\n      let newFilter = res.data.filter((noti) => {\r\n        return noti.seen === false;\r\n      });\r\n      setNewNotifications(\r\n        newFilter.sort((p1, p2) => {\r\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n        })\r\n      );\r\n      fetchNotifications();\r\n      setWaitingOnLoad(false);\r\n    }, 1000);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getNotifications();\r\n  }, [user._id]);\r\n\r\n  const handleSeenStatus = async (status) => {\r\n    const getReadStatus = async () => {\r\n      let updateNotis;\r\n      if (status === \"seen\") {\r\n        updateNotis = seenNotifications;\r\n      } else {\r\n        updateNotis = newNotifications;\r\n      }\r\n      const updateNotifications = async () => {\r\n        await Promise.all(\r\n          updateNotis.map(async (notificationToUpdate) => {\r\n            await axios.put(\r\n              `https://radiant-oasis-77477.herokuapp.com/api/notifications/${notificationToUpdate._id}`\r\n              // `http://localhost:3000/api/notifications/${notificationToUpdate._id}`\r\n            );\r\n          })\r\n        );\r\n      };\r\n\r\n      const refreshNotifications = async () => {\r\n        getNotifications();\r\n      };\r\n\r\n      updateNotifications().then(() => refreshNotifications());\r\n    };\r\n    getReadStatus();\r\n    getNotifications();\r\n  };\r\n\r\n  const handleDeleteBatch = async (status) => {\r\n    const deleteBatch = async () => {\r\n      let deleteNotis;\r\n      if (status === \"seen\") {\r\n        deleteNotis = seenNotifications;\r\n      } else {\r\n        deleteNotis = newNotifications;\r\n      }\r\n\r\n      const deleteNotifcations = async () => {\r\n        for (let notificationToDelete of deleteNotis) {\r\n          await axios.delete(\r\n            `https://radiant-oasis-77477.herokuapp.com/api/notifications/${notificationToDelete._id}`\r\n            // `http://localhost:3000/api/notifications/${notificationToDelete._id}`\r\n          );\r\n        }\r\n      };\r\n\r\n      const refreshNotifications = async () => {\r\n        getNotifications();\r\n      };\r\n\r\n      deleteNotifcations().then(() => refreshNotifications());\r\n    };\r\n    deleteBatch();\r\n  };\r\n\r\n  const NewNotificationsFeed = () => {\r\n    return (\r\n      <div\r\n        className=\"notifications-container\"\r\n        onClick={() => setSidebarOpen(false)}\r\n      >\r\n        <div\r\n          className=\"notification-type-header\"\r\n          style={sidebarOpen ? { pointerEvents: \"none\" } : {}}\r\n        >\r\n          <div className=\"notification-type-header-wrapper\">\r\n            <span className=\"notification-type-header-title\">\r\n              New {\"(\"}\r\n              {newNotifications.length}\r\n              {\")\"}\r\n            </span>\r\n            {newNotifications.length > 0 && (\r\n              <div className=\"notification-type-button-container\">\r\n                <button\r\n                  className=\"notification-read-button desktop-button\"\r\n                  onClick={() => handleSeenStatus(\"new\")}\r\n                >\r\n                  Mark all as seen\r\n                </button>\r\n                <button\r\n                  className=\"notification-delete-button desktop-button\"\r\n                  onClick={() => handleDeleteBatch(\"new\")}\r\n                >\r\n                  Delete all new\r\n                </button>\r\n                <button\r\n                  className=\"notification-read-button mobile-button\"\r\n                  onClick={() => handleSeenStatus(\"new\")}\r\n                >\r\n                  All seen\r\n                </button>\r\n                <button\r\n                  className=\"notification-delete-button mobile-button\"\r\n                  onClick={() => handleDeleteBatch(\"new\")}\r\n                >\r\n                  Delete all\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"notifications-holder\"\r\n          style={sidebarOpen ? { pointerEvents: \"none\" } : {}}\r\n        >\r\n          {newNotifications.length > 0 ? (\r\n            newNotifications.map((notification) => (\r\n              <Notification\r\n                notification={notification}\r\n                key={notification._id}\r\n                status=\"new\"\r\n                getNotifications={getNotifications}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"full-width-wrapper\">\r\n              <span className=\"no-notifications-message\">\r\n                No new notifications\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const SeenNotificationsFeed = () => {\r\n    return (\r\n      <div className=\"notifications-container\">\r\n        <div className=\"notification-type-header\">\r\n          <div className=\"notification-type-header-wrapper\">\r\n            <span className=\"notification-type-header-title \">\r\n              Seen {\"(\"}\r\n              {seenNotifications.length}\r\n              {\")\"}\r\n            </span>\r\n            {seenNotifications.length > 0 && (\r\n              <div className=\"notification-type-button-container\">\r\n                <button\r\n                  className=\"notification-read-button desktop-button\"\r\n                  onClick={() => handleSeenStatus(\"seen\")}\r\n                >\r\n                  Mark all as new\r\n                </button>\r\n                <button\r\n                  className=\"notification-delete-button desktop-button\"\r\n                  onClick={() => handleDeleteBatch(\"seen\")}\r\n                >\r\n                  Delete all seen\r\n                </button>\r\n                <button\r\n                  className=\"notification-read-button mobile-button\"\r\n                  onClick={() => handleSeenStatus(\"seen\")}\r\n                >\r\n                  All new\r\n                </button>\r\n                <button\r\n                  className=\"notification-delete-button mobile-button\"\r\n                  onClick={() => handleDeleteBatch(\"seen\")}\r\n                >\r\n                  Delete all\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"notifications-holder\">\r\n          {seenNotifications.length > 0 ? (\r\n            seenNotifications.map((notification) => (\r\n              <Notification\r\n                notification={notification}\r\n                key={notification._id}\r\n                status=\"seen\"\r\n                getNotifications={getNotifications}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"full-width-wrapper\">\r\n              <span className=\"no-notifications-message\">\r\n                No seen notifications\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"notifications-feed-page\">\r\n      <>\r\n        {loading ? (\r\n          <Loader type={\"full-screen\"} />\r\n        ) : (\r\n          <>\r\n            {seenNotifications.length + newNotifications.length > 0 ? (\r\n              <>\r\n                <NewNotificationsFeed />\r\n                <SeenNotificationsFeed />\r\n              </>\r\n            ) : waitingOnLoad ? (\r\n              <Loader type={\"full-screen\"} />\r\n            ) : (\r\n              <div className=\"full-width-wrapper\">\r\n                <span className=\"no-notifications-message\">\r\n                  No notifications\r\n                </span>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NotificationsFeed from \"../../components/notificationsFeed/NotificationsFeed\";\r\nimport Nav from \"../../components/nav/Nav\";\r\n\r\nexport default function Notifications({\r\n  currentPage,\r\n  setCurrentPage,\r\n  fetchNotifications,\r\n  notificationsCount,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  return (\r\n    <div className=\"container\" id=\"container\">\r\n      <Nav\r\n        currentPage={currentPage}\r\n        notificationsCount={notificationsCount}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n      <NotificationsFeed\r\n        fetchNotifications={fetchNotifications}\r\n        setCurrentPage={setCurrentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Sidebar.scss\";\r\n\r\nexport default function Logo() {\r\n  return (\r\n    <svg\r\n      className=\"navbar-svg\"\r\n      version=\"1.0\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"4000.000000pt\"\r\n      height=\"4000.000000pt\"\r\n      viewBox=\"0 0 4000.000000 4000.000000\"\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    >\r\n      <g\r\n        transform=\"translate(0.000000,4000.000000) scale(0.100000,-0.100000)\"\r\n        fill=\"#000000\"\r\n        stroke=\"none\"\r\n        className=\"navbar-svg-g\"\r\n      >\r\n        <path\r\n          d=\"M1353 22773 c2 -15060 3 -15886 20 -16028 72 -620 208 -1161 422\r\n-1680 77 -190 265 -569 365 -740 530 -900 1265 -1635 2165 -2165 171 -100 550\r\n-288 740 -366 584 -240 1210 -385 1865 -434 187 -14 25953 -14 26140 0 655 49\r\n1281 194 1865 434 190 78 569 266 740 366 900 530 1635 1265 2165 2165 100\r\n171 288 550 365 740 214 519 350 1060 422 1680 17 142 18 837 21 13150 2 9481\r\n0 13045 -8 13165 -44 644 -192 1286 -434 1875 -78 190 -266 569 -366 740 -530\r\n900 -1265 1635 -2165 2165 -171 100 -550 288 -740 366 -584 240 -1210 385\r\n-1865 434 -89 7 -5493 10 -15928 10 l-15792 0 3 -15877z m24827 9233 c1160\r\n-88 2045 -305 2845 -695 253 -124 381 -196 585 -329 649 -424 1168 -975 1560\r\n-1657 90 -157 268 -524 339 -701 578 -1443 701 -3358 365 -5724 -56 -400 -77\r\n-521 -754 -4360 -357 -2027 -931 -5282 -1275 -7235 -344 -1952 -628 -3562\r\n-631 -3578 l-6 -27 -3359 0 -3359 0 5 22 c3 13 311 1760 685 3883 375 2123\r\n906 5136 1181 6695 514 2912 563 3200 623 3620 169 1182 179 2074 30 2738 -62\r\n276 -130 474 -239 697 -323 657 -884 1063 -1695 1225 -318 64 -584 84 -990 77\r\n-404 -7 -649 -37 -995 -122 -1044 -256 -1873 -874 -2548 -1900 -270 -412 -545\r\n-963 -752 -1510 -311 -818 -555 -1743 -789 -2985 -36 -190 -540 -3040 -1121\r\n-6335 -580 -3294 -1061 -6016 -1067 -6047 l-11 -58 -3358 0 -3359 0 5 23 c3\r\n12 723 4092 1600 9067 877 4975 1810 10265 2073 11755 l478 2710 3357 3 c1846\r\n1 3357 -1 3357 -5 0 -12 -371 -2118 -375 -2130 -3 -9 10 -13 48 -13 l52 1 73\r\n87 c301 356 727 763 1118 1068 940 733 2065 1257 3274 1528 504 112 1019 186\r\n1510 216 96 6 198 12 225 14 137 10 1105 -4 1295 -18z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Logo() {\r\n  return (\r\n    <svg\r\n      className=\"sidebar-kf\"\r\n      version=\"1.0\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"655.000000pt\"\r\n      height=\"657.000000pt\"\r\n      viewBox=\"0 0 655.000000 657.000000\"\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    >\r\n      <g\r\n        transform=\"translate(0.000000,657.000000) scale(0.100000,-0.100000)\"\r\n        fill=\"#151515\"\r\n        stroke=\"none\"\r\n        className=\"sidebar-kf-g\"\r\n      >\r\n        <path\r\n          d=\"M1 4978 c1 -995 5 -1546 10 -1468 22 311 102 661 224 970 46 118 204\r\n440 216 440 5 0 9 4 9 9 0 16 120 213 144 236 6 6 29 37 51 70 22 33 47 66 55\r\n75 8 8 44 50 79 93 35 43 72 84 82 90 11 7 19 16 19 22 0 14 133 145 147 145\r\n6 0 13 6 16 14 5 12 128 119 224 194 l43 34 0 -2606 c0 -1433 -4 -2606 -8\r\n-2606 -5 0 -31 19 -59 43 -28 23 -85 70 -127 105 -42 34 -76 67 -76 72 0 6 -6\r\n10 -13 10 -14 0 -147 130 -147 144 0 5 -18 25 -40 44 -23 19 -39 37 -36 40 3\r\n2 -6 13 -19 24 -14 11 -23 24 -20 29 4 5 2 9 -3 9 -12 0 -112 121 -111 134 0\r\n5 -5 12 -11 16 -6 4 -19 18 -28 32 -9 14 -40 59 -68 100 -28 41 -62 95 -75\r\n119 -13 24 -27 46 -31 49 -15 11 -169 332 -211 440 -123 313 -205 668 -226\r\n975 -5 81 -9 -468 -10 -1472 l-1 -1603 3275 0 3275 0 0 3285 0 3285 -3275 0\r\n-3275 0 1 -1592z m3474 1562 c150 -11 292 -32 455 -67 138 -29 360 -93 360\r\n-103 0 -4 -488 -495 -1085 -1092 l-1085 -1085 0 1073 0 1072 108 36 c437 143\r\n834 196 1247 166z m1623 -567 c92 -58 360 -276 369 -299 3 -8 10 -14 16 -14\r\n14 0 147 -131 147 -145 0 -6 8 -15 19 -22 10 -6 47 -47 82 -90 35 -43 71 -85\r\n79 -93 8 -9 33 -42 55 -75 22 -32 48 -67 58 -77 9 -10 17 -24 17 -31 0 -12\r\n-2639 -2658 -2657 -2664 -4 -2 -204 193 -443 432 l-435 435 1330 1330 c731\r\n732 1331 1330 1333 1330 1 0 15 -8 30 -17z m1250 -1660 c6 -21 24 -85 41 -143\r\n38 -129 55 -204 86 -385 92 -546 26 -1130 -192 -1685 -42 -108 -196 -429 -211\r\n-440 -4 -3 -18 -25 -31 -49 -13 -24 -47 -78 -75 -119 -28 -41 -59 -86 -68\r\n-100 -9 -14 -22 -28 -28 -32 -6 -4 -10 -10 -8 -13 5 -8 -102 -137 -114 -137\r\n-5 0 -7 -4 -3 -9 3 -5 -6 -18 -20 -29 -13 -11 -22 -22 -19 -24 3 -3 -13 -21\r\n-36 -40 -22 -19 -40 -39 -40 -44 0 -12 -132 -144 -145 -144 -6 0 -15 -8 -22\r\n-18 -14 -23 -178 -158 -278 -228 l-72 -52 -629 629 -629 629 1235 1235 c679\r\n679 1238 1235 1241 1235 4 0 11 -17 17 -37z m-2003 -4085 c-23 -13 -263 -85\r\n-360 -108 -245 -58 -469 -84 -725 -84 -379 0 -658 50 -1107 197 l-33 10 0\r\n1116 0 1116 1120 -1120 c820 -820 1116 -1122 1105 -1127z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"./Sidebar.scss\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  HomeRounded,\r\n  HomeOutlined,\r\n  Person,\r\n  PersonOutlineRounded,\r\n  ExitToApp,\r\n  Notifications,\r\n  NotificationsOutlined,\r\n  Group,\r\n  GroupOutlined,\r\n  Language,\r\n  Public,\r\n  GitHub,\r\n  Create,\r\n  CreateOutlined,\r\n} from \"@material-ui/icons\";\r\nimport { logoutCall } from \"../../apiCalls\";\r\nimport Logo from \"./Logo\";\r\nimport KF from \"./KF\";\r\n\r\nexport default function Sidebar({\r\n  currentPage,\r\n  notificationsCount,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const { user, dispatch } = useContext(AuthContext);\r\n  let navigate = useNavigate();\r\n\r\n  const logout = () => {\r\n    localStorage.clear();\r\n    logoutCall(dispatch);\r\n    setSidebarOpen(false);\r\n    navigate(\"/login\", { replace: true });\r\n  };\r\n\r\n  const handleOptionClick = () => {\r\n    setSidebarOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={sidebarOpen ? \"sidebar active\" : \"sidebar\"}>\r\n      <div className=\"sidebar-wrapper\">\r\n        <div className=\"sidebar-logo-container\">\r\n          <Logo />\r\n        </div>\r\n        {/* TIMELINE */}\r\n        <>\r\n          <Link to=\"/\">\r\n            <div\r\n              onClick={() => handleOptionClick()}\r\n              className={\r\n                \"sidebar-link \" +\r\n                (currentPage === \"Timeline\" ? \"active-nav-link\" : \"\")\r\n              }\r\n            >\r\n              {currentPage === \"Timeline\" ? (\r\n                <HomeRounded className=\"sidebar-icon\" />\r\n              ) : (\r\n                <HomeOutlined className=\"sidebar-icon\" />\r\n              )}{\" \"}\r\n              <span className=\"sidebar-link-text\">Timeline</span>\r\n            </div>\r\n          </Link>\r\n          {/* PROFILE */}\r\n          <Link to={\"/profile/\" + user.username}>\r\n            <div\r\n              onClick={() => handleOptionClick()}\r\n              className={\r\n                \"sidebar-link \" +\r\n                (currentPage === \"Profile\" ? \"active-nav-link\" : \"\")\r\n              }\r\n            >\r\n              {currentPage === \"Profile\" ? (\r\n                <Person className=\"sidebar-icon\" />\r\n              ) : (\r\n                <PersonOutlineRounded className=\"sidebar-icon\" />\r\n              )}{\" \"}\r\n              <span className=\"sidebar-link-text\">Profile</span>\r\n            </div>\r\n          </Link>\r\n          {/* NOTIFICATIONS */}\r\n          <Link to={\"/notifications/\" + user.username}>\r\n            <div\r\n              onClick={() => handleOptionClick()}\r\n              className={\r\n                \"sidebar-link \" +\r\n                (currentPage === \"Notifications\" ? \"active-nav-link\" : \"\")\r\n              }\r\n            >\r\n              {currentPage === \"Notifications\" ? (\r\n                <Notifications className=\"sidebar-icon\" />\r\n              ) : (\r\n                <NotificationsOutlined className=\"sidebar-icon\" />\r\n              )}{\" \"}\r\n              <span className=\"sidebar-link-text\">Notifications</span>\r\n              {notificationsCount > 0 && (\r\n                <div className=\"notification-badge-container\">\r\n                  <div className=\"notification-badge\">\r\n                    <span className=\"badge-count\">{notificationsCount}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Link>\r\n          {/* FOLLOWERS */}\r\n          <Link to={`/${user.username}/followers`}>\r\n            <div\r\n              onClick={() => handleOptionClick()}\r\n              className={\r\n                \"sidebar-link \" +\r\n                (currentPage === \"Followers\" ? \"active-nav-link\" : \"\")\r\n              }\r\n            >\r\n              {currentPage === \"Followers\" ? (\r\n                <Group className=\"sidebar-icon\" />\r\n              ) : (\r\n                <GroupOutlined className=\"sidebar-icon\" />\r\n              )}{\" \"}\r\n              <span className=\"sidebar-link-text\">Followers</span>\r\n            </div>\r\n          </Link>\r\n          {/* FOLLOWING */}\r\n          <Link to={`/${user.username}/following`}>\r\n            <div\r\n              onClick={() => handleOptionClick()}\r\n              className={\r\n                \"sidebar-link \" +\r\n                (currentPage === \"Following\" ? \"active-nav-link\" : \"\")\r\n              }\r\n            >\r\n              {currentPage === \"Following\" ? (\r\n                <Group className=\"sidebar-icon\" />\r\n              ) : (\r\n                <GroupOutlined className=\"sidebar-icon\" />\r\n              )}{\" \"}\r\n              <span className=\"sidebar-link-text\">Following</span>\r\n            </div>\r\n          </Link>\r\n          {/* EXPLORE */}\r\n          <Link to={`/explore/${user._id}`}>\r\n            <div\r\n              onClick={() => handleOptionClick()}\r\n              className={\r\n                \"sidebar-link \" +\r\n                (currentPage === \"Explore\" ? \"active-nav-link\" : \"\")\r\n              }\r\n            >\r\n              {currentPage === \"Explore\" ? (\r\n                <Public className=\"sidebar-icon\" />\r\n              ) : (\r\n                <Language className=\"sidebar-icon\" />\r\n              )}{\" \"}\r\n              <span className=\"sidebar-link-text\">Explore</span>\r\n            </div>\r\n          </Link>\r\n          {/* SHARE */}\r\n          <Link to={`/share`}>\r\n            <div\r\n              onClick={() => handleOptionClick()}\r\n              className={\r\n                \"sidebar-link share-link\" +\r\n                (currentPage === \"Share\" ? \" active-share-link\" : \"\")\r\n              }\r\n            >\r\n              {currentPage === \"Share\" ? (\r\n                <Create className=\"sidebar-icon\" />\r\n              ) : (\r\n                <CreateOutlined className=\"sidebar-icon\" />\r\n              )}{\" \"}\r\n              <span className=\"sidebar-link-text\">Share</span>\r\n            </div>\r\n          </Link>\r\n          {/* LOGOUT */}\r\n          <div className=\"sidebar-logout\">\r\n            <button className=\"logout-button\" onClick={logout}>\r\n              <ExitToApp className=\"sidebar-icon\" />{\" \"}\r\n              <span className=\"sidebar-link-text\">Logout</span>\r\n            </button>\r\n          </div>\r\n        </>\r\n      </div>\r\n      <div className=\"sidebar-personal-info-container\">\r\n        <a\r\n          href=\"https://kfig21.github.io/portfolio_2021/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <KF />\r\n        </a>\r\n        <span className=\"made-by\">Made by KFig21</span>\r\n        <a\r\n          href=\"https://github.com/KFig21/nodebook_client\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <GitHub className=\"sidebar-icon\" />\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"./MobileNavFooter.scss\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  HomeRounded,\r\n  HomeOutlined,\r\n  Person,\r\n  PersonOutlineRounded,\r\n  Notifications,\r\n  NotificationsOutlined,\r\n  Create,\r\n  CreateOutlined,\r\n} from \"@material-ui/icons\";\r\n\r\nexport default function MobileNavFooter({\r\n  currentPage,\r\n  notificationsCount,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const { user } = useContext(AuthContext);\r\n  return (\r\n    <div\r\n      className=\"mobile-nav-footer\"\r\n      style={sidebarOpen ? { pointerEvents: \"none\" } : {}}\r\n    >\r\n      <div className=\"nav-footer-button-container\">\r\n        {/* PROFILE */}\r\n        <Link to={\"/profile/\" + user.username}>\r\n          <div\r\n            className={\r\n              \"footer-link \" +\r\n              (currentPage === \"Profile\" ? \"active-nav-link\" : \"\")\r\n            }\r\n          >\r\n            {currentPage === \"Profile\" ? (\r\n              <Person className=\"footer-icon\" />\r\n            ) : (\r\n              <PersonOutlineRounded className=\"footer-icon\" />\r\n            )}\r\n          </div>\r\n        </Link>\r\n        {/* TIMELINE */}\r\n        <Link to=\"/\">\r\n          <div\r\n            className={\r\n              \"footer-link \" +\r\n              (currentPage === \"Timeline\" ? \"active-nav-link\" : \"\")\r\n            }\r\n          >\r\n            {currentPage === \"Timeline\" ? (\r\n              <HomeRounded className=\"footer-icon\" />\r\n            ) : (\r\n              <HomeOutlined className=\"footer-icon\" />\r\n            )}\r\n          </div>\r\n        </Link>\r\n        {/* NOTIFICATIONS */}\r\n        <Link to={\"/notifications/\" + user.username}>\r\n          <div\r\n            className={\r\n              \"footer-link \" +\r\n              (currentPage === \"Notifications\" ? \"active-nav-link\" : \"\")\r\n            }\r\n          >\r\n            {currentPage === \"Notifications\" ? (\r\n              <div className=\"notifications-icon-container\">\r\n                <Notifications className=\"footer-icon\" />\r\n                {notificationsCount > 0 && (\r\n                  <div className=\"footer-notification-badge-container\">\r\n                    <div className=\"footer-notification-badge\">\r\n                      <span className=\"footer-badge-count\">\r\n                        {notificationsCount}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"notifications-icon-container\">\r\n                <NotificationsOutlined className=\"footer-icon\" />\r\n                {notificationsCount > 0 && (\r\n                  <div className=\"footer-notification-badge-container\">\r\n                    <div className=\"footer-notification-badge\">\r\n                      <span className=\"footer-badge-count\">\r\n                        {notificationsCount}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Link>\r\n        {/* Share */}\r\n        <Link to=\"/share\">\r\n          <div\r\n            className={\r\n              \"footer-link \" +\r\n              (currentPage === \"Share\" ? \"active-nav-link\" : \"\")\r\n            }\r\n          >\r\n            {currentPage === \"Share\" ? (\r\n              <Create className=\"footer-icon\" />\r\n            ) : (\r\n              <CreateOutlined className=\"footer-icon\" />\r\n            )}\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useRef, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport Nav from \"../../components/nav/Nav\";\r\nimport noAvi from \"../../assets/noAvatar.png\";\r\nimport { PermMedia, Cancel } from \"@material-ui/icons\";\r\nimport \"./Share.scss\";\r\n\r\nexport default function Share({\r\n  currentPage,\r\n  setCurrentPage,\r\n  fetchNotifications,\r\n  sidebarOpen,\r\n  setSidebarOpen,\r\n}) {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const body = useRef();\r\n  const [file, setFile] = useState(null);\r\n  let navigate = useNavigate();\r\n  const [disableButton, setDisableButton] = useState(\"\");\r\n  const isInvalid = disableButton === \"\";\r\n  const [user, setUser] = useState({});\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(\r\n        `https://radiant-oasis-77477.herokuapp.com/api/users?username=${currentUser.username}`\r\n        // `http://localhost:3000/api/users?username=${currentUser.username}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n\r\n    fetchUser();\r\n  }, [currentUser]);\r\n\r\n  // set current page to\"Post on load\r\n  useEffect(() => {\r\n    setCurrentPage(\"Share\");\r\n  });\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      userId: user._id,\r\n      body: body.current.value,\r\n    };\r\n    if (file) {\r\n      const postWithImg = new FormData();\r\n\r\n      postWithImg.append(\"file\", file);\r\n      postWithImg.append(\"userId\", user._id);\r\n      postWithImg.append(\"body\", body.current.value);\r\n\r\n      try {\r\n        await axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/posts/image\",\r\n          // `http://localhost:3000/api/posts/image`,\r\n          postWithImg\r\n        );\r\n        navigate(\"/\", { replace: true });\r\n        window.location.reload();\r\n      } catch (err) {\r\n        setError(true);\r\n      }\r\n    } else {\r\n      // no file, send\r\n      try {\r\n        await axios.post(\r\n          \"https://radiant-oasis-77477.herokuapp.com/api/posts\",\r\n          // \"http://localhost:3000/api/posts\",\r\n          newPost\r\n        );\r\n        navigate(\"/\", { replace: true });\r\n        window.location.reload();\r\n      } catch (err) {\r\n        setError(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Nav\r\n        currentPage={currentPage}\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n      />\r\n      <div className=\"share-page\" onClick={() => setSidebarOpen(false)}>\r\n        <div className=\"share-container\">\r\n          <div className=\"share\">\r\n            <div className=\"share-wrapper\">\r\n              <div className=\"share-top\">\r\n                <img\r\n                  className=\"share-avatar\"\r\n                  src={\r\n                    user.avatar\r\n                      ? \"https://nodebook-images.s3.amazonaws.com/\" +\r\n                        user.avatar\r\n                      : noAvi\r\n                  }\r\n                  alt=\"\"\r\n                />\r\n                <textarea\r\n                  placeholder={\"What's up \" + user.username + \"?\"}\r\n                  className=\"share-input-desktop\"\r\n                  onChange={(e) => setDisableButton(e.target.value)}\r\n                  ref={body}\r\n                  maxLength={500}\r\n                />\r\n              </div>\r\n              <hr className=\"share-hr\" />\r\n              {file && (\r\n                <div className=\"share-img-container\">\r\n                  <img\r\n                    className=\"share-img\"\r\n                    src={URL.createObjectURL(file)}\r\n                    alt=\"\"\r\n                  />\r\n                  <Cancel\r\n                    className=\"share-cancel-img\"\r\n                    onClick={() => setFile(null)}\r\n                  />\r\n                </div>\r\n              )}\r\n              <form className=\"share-bottom\" onSubmit={submitHandler}>\r\n                <div className=\"share-options\">\r\n                  <label htmlFor=\"file\" className=\"share-option\">\r\n                    <PermMedia className=\"share-icon\" />\r\n                    <span className=\"share-option-text\">Add an image</span>\r\n                    <input\r\n                      style={{ display: \"none\" }}\r\n                      type=\"file\"\r\n                      id=\"file\"\r\n                      accept=\".png,.jpeg,.jpg\"\r\n                      onChange={(e) => setFile(e.target.files[0])}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className={\r\n                    isInvalid\r\n                      ? \"share-button invalid-share-button\"\r\n                      : \"share-button\"\r\n                  }\r\n                  disabled={isInvalid}\r\n                >\r\n                  Share\r\n                </button>\r\n              </form>\r\n              {error && (\r\n                <div className=\"error-div\">\r\n                  <span className=\"error-message\">\r\n                    <strong>Error:</strong> File too large or incorrect type\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// imports\nimport { useEffect, useState, useContext } from \"react\";\nimport { HashRouter as Router, Route, Routes } from \"react-router-dom\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport \"./global.scss\";\nimport axios from \"axios\";\n// pages\nimport Home from \"./pages/home/Home\";\nimport Profile from \"./pages/profile/Profile\";\nimport Follows from \"./pages/follows/Follows\";\nimport Post from \"./pages/post/Post\";\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/login/Signup\";\nimport Update from \"./pages/update/Update\";\nimport Likes from \"./pages/likes/Likes\";\nimport Explore from \"./pages/explore/Explore\";\nimport Notifications from \"./pages/notifications/Notifications\";\nimport Sidebar from \"./components/sidebar/Sidebar\";\nimport MobileNavFooter from \"./components/mobileNavFooter/MobileNavFooter\";\nimport Share from \"./pages/share/Share\";\n\nfunction App() {\n  const [userAuth, setUserAuth] = useState(false);\n  const [currentPage, setCurrentPage] = useState(\"Timeline\");\n  const { user } = useContext(AuthContext);\n  const [userData, setUserData] = useState({});\n  const [notificationsCount, setNotificationsCount] = useState(0);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  const fetchNotifications = async () => {\n    // set a buffer for new notifications to get set before fetching\n    setTimeout(async function () {\n      const res = await axios.get(\n        `https://radiant-oasis-77477.herokuapp.com/api/users/notifications?userId=${user._id}`\n        // `http://localhost:3000/api/users/notifications?userId=${user._id}`\n      );\n      setUserData(res.data);\n      let count = 0;\n      for (let notification of res.data.notifications) {\n        if (notification.seen === false) {\n          count++;\n        }\n      }\n      setNotificationsCount(count);\n      // remove unused error\n      if (userData) {\n        return null;\n      }\n    }, 300);\n  };\n\n  useEffect(() => {\n    const userCheck = localStorage.getItem(\"userAuth\");\n    if (userCheck) {\n      setUserAuth(true);\n    } else {\n      setUserAuth(false);\n    }\n    if (user) {\n      fetchNotifications();\n    }\n  }, [user]);\n\n  return (\n    <Router basename=\"/\">\n      <div className=\"app\">\n        <div className=\"home-container\">\n          {user && (\n            <Sidebar\n              currentPage={currentPage}\n              notificationsCount={notificationsCount}\n              sidebarOpen={sidebarOpen}\n              setSidebarOpen={setSidebarOpen}\n            />\n          )}\n          <div className=\"left-container\">\n            <Routes>\n              {/* HOME ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Home\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      fetchNotifications={fetchNotifications}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* PROFILE ROUTE, if no user go to LOGIN */}\n              <Route\n                path=\"/profile/:username\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Profile\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      fetchNotifications={fetchNotifications}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* NOTIFICATIONS ROUTE, if no user go to LOGIN */}\n              <Route\n                path=\"/notifications/:username\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Notifications\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      fetchNotifications={fetchNotifications}\n                      notificationsCount={notificationsCount}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* FOLLOWERS ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/:id/followers\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Follows\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      follow={\"Followers\"}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* FOLLOWING ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/:id/following\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Follows\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      follow={\"Following\"}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* LIKES ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/:postId/likes\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Likes\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      follow={\"Following\"}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* EXPLORE ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/explore/:userId\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Explore\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* POST ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/post/:postId\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Post\n                      user={user}\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      fetchNotifications={fetchNotifications}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* SHARE ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/share\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Share\n                      user={user}\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      fetchNotifications={fetchNotifications}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* UPDATE USER ROUTE, if no user go to LOGIN */}\n              <Route\n                exact\n                path=\"/:id/update\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Update\n                      user={user}\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      updateType={\"user\"}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* LOGIN ROUTE, if there's a user redirect to home */}\n              <Route\n                exact\n                path=\"/login\"\n                element={\n                  !user ? (\n                    <Login />\n                  ) : (\n                    <Home\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      fetchNotifications={fetchNotifications}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n              {/* SIGNUP ROUTE*/}\n              <Route\n                exact\n                path=\"/signup\"\n                element={\n                  !user ? (\n                    <Signup userAuth={userAuth} setUserAuth={setUserAuth} />\n                  ) : (\n                    <Home\n                      currentPage={currentPage}\n                      setCurrentPage={setCurrentPage}\n                      fetchNotifications={fetchNotifications}\n                      sidebarOpen={sidebarOpen}\n                      setSidebarOpen={setSidebarOpen}\n                    />\n                  )\n                }\n              ></Route>\n            </Routes>\n          </div>\n          {user && (\n            <MobileNavFooter\n              currentPage={currentPage}\n              notificationsCount={notificationsCount}\n              sidebarOpen={sidebarOpen}\n              setSidebarOpen={setSidebarOpen}\n            />\n          )}\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}